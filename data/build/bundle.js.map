{"version":3,"file":"bundle.js","sources":["../../node_modules/svelte/internal/index.mjs","../../src/Wifi.svelte","../../src/HostIp.svelte","../../src/Plotter.svelte","../../src/upload/fileUtils.js","../../node_modules/svg-path-parser/parser.js","../../node_modules/svg-path-parser/index.js","../../node_modules/bezier-js/lib/utils.js","../../node_modules/bezier-js/lib/poly-bezier.js","../../node_modules/bezier-js/lib/normalise-svg.js","../../node_modules/bezier-js/lib/svg-to-beziers.js","../../node_modules/bezier-js/lib/bezier.js","../../node_modules/bezier-js/index.js","../../src/upload/svg-path-to-polygon.js","../../src/upload/svgUtils.js","../../src/upload/Upload.svelte","../../node_modules/svelte/store/index.mjs","../../src/App.svelte","../../src/main.js"],"sourcesContent":["function noop() { }\nconst identity = x => x;\nfunction assign(tar, src) {\n    // @ts-ignore\n    for (const k in src)\n        tar[k] = src[k];\n    return tar;\n}\nfunction is_promise(value) {\n    return value && typeof value === 'object' && typeof value.then === 'function';\n}\nfunction add_location(element, file, line, column, char) {\n    element.__svelte_meta = {\n        loc: { file, line, column, char }\n    };\n}\nfunction run(fn) {\n    return fn();\n}\nfunction blank_object() {\n    return Object.create(null);\n}\nfunction run_all(fns) {\n    fns.forEach(run);\n}\nfunction is_function(thing) {\n    return typeof thing === 'function';\n}\nfunction safe_not_equal(a, b) {\n    return a != a ? b == b : a !== b || ((a && typeof a === 'object') || typeof a === 'function');\n}\nfunction not_equal(a, b) {\n    return a != a ? b == b : a !== b;\n}\nfunction validate_store(store, name) {\n    if (store != null && typeof store.subscribe !== 'function') {\n        throw new Error(`'${name}' is not a store with a 'subscribe' method`);\n    }\n}\nfunction subscribe(store, ...callbacks) {\n    if (store == null) {\n        return noop;\n    }\n    const unsub = store.subscribe(...callbacks);\n    return unsub.unsubscribe ? () => unsub.unsubscribe() : unsub;\n}\nfunction get_store_value(store) {\n    let value;\n    subscribe(store, _ => value = _)();\n    return value;\n}\nfunction component_subscribe(component, store, callback) {\n    component.$$.on_destroy.push(subscribe(store, callback));\n}\nfunction create_slot(definition, ctx, $$scope, fn) {\n    if (definition) {\n        const slot_ctx = get_slot_context(definition, ctx, $$scope, fn);\n        return definition[0](slot_ctx);\n    }\n}\nfunction get_slot_context(definition, ctx, $$scope, fn) {\n    return definition[1] && fn\n        ? assign($$scope.ctx.slice(), definition[1](fn(ctx)))\n        : $$scope.ctx;\n}\nfunction get_slot_changes(definition, $$scope, dirty, fn) {\n    if (definition[2] && fn) {\n        const lets = definition[2](fn(dirty));\n        if ($$scope.dirty === undefined) {\n            return lets;\n        }\n        if (typeof lets === 'object') {\n            const merged = [];\n            const len = Math.max($$scope.dirty.length, lets.length);\n            for (let i = 0; i < len; i += 1) {\n                merged[i] = $$scope.dirty[i] | lets[i];\n            }\n            return merged;\n        }\n        return $$scope.dirty | lets;\n    }\n    return $$scope.dirty;\n}\nfunction exclude_internal_props(props) {\n    const result = {};\n    for (const k in props)\n        if (k[0] !== '$')\n            result[k] = props[k];\n    return result;\n}\nfunction compute_rest_props(props, keys) {\n    const rest = {};\n    keys = new Set(keys);\n    for (const k in props)\n        if (!keys.has(k) && k[0] !== '$')\n            rest[k] = props[k];\n    return rest;\n}\nfunction once(fn) {\n    let ran = false;\n    return function (...args) {\n        if (ran)\n            return;\n        ran = true;\n        fn.call(this, ...args);\n    };\n}\nfunction null_to_empty(value) {\n    return value == null ? '' : value;\n}\nfunction set_store_value(store, ret, value = ret) {\n    store.set(value);\n    return ret;\n}\nconst has_prop = (obj, prop) => Object.prototype.hasOwnProperty.call(obj, prop);\nfunction action_destroyer(action_result) {\n    return action_result && is_function(action_result.destroy) ? action_result.destroy : noop;\n}\n\nconst is_client = typeof window !== 'undefined';\nlet now = is_client\n    ? () => window.performance.now()\n    : () => Date.now();\nlet raf = is_client ? cb => requestAnimationFrame(cb) : noop;\n// used internally for testing\nfunction set_now(fn) {\n    now = fn;\n}\nfunction set_raf(fn) {\n    raf = fn;\n}\n\nconst tasks = new Set();\nfunction run_tasks(now) {\n    tasks.forEach(task => {\n        if (!task.c(now)) {\n            tasks.delete(task);\n            task.f();\n        }\n    });\n    if (tasks.size !== 0)\n        raf(run_tasks);\n}\n/**\n * For testing purposes only!\n */\nfunction clear_loops() {\n    tasks.clear();\n}\n/**\n * Creates a new task that runs on each raf frame\n * until it returns a falsy value or is aborted\n */\nfunction loop(callback) {\n    let task;\n    if (tasks.size === 0)\n        raf(run_tasks);\n    return {\n        promise: new Promise(fulfill => {\n            tasks.add(task = { c: callback, f: fulfill });\n        }),\n        abort() {\n            tasks.delete(task);\n        }\n    };\n}\n\nfunction append(target, node) {\n    target.appendChild(node);\n}\nfunction insert(target, node, anchor) {\n    target.insertBefore(node, anchor || null);\n}\nfunction detach(node) {\n    node.parentNode.removeChild(node);\n}\nfunction destroy_each(iterations, detaching) {\n    for (let i = 0; i < iterations.length; i += 1) {\n        if (iterations[i])\n            iterations[i].d(detaching);\n    }\n}\nfunction element(name) {\n    return document.createElement(name);\n}\nfunction element_is(name, is) {\n    return document.createElement(name, { is });\n}\nfunction object_without_properties(obj, exclude) {\n    const target = {};\n    for (const k in obj) {\n        if (has_prop(obj, k)\n            // @ts-ignore\n            && exclude.indexOf(k) === -1) {\n            // @ts-ignore\n            target[k] = obj[k];\n        }\n    }\n    return target;\n}\nfunction svg_element(name) {\n    return document.createElementNS('http://www.w3.org/2000/svg', name);\n}\nfunction text(data) {\n    return document.createTextNode(data);\n}\nfunction space() {\n    return text(' ');\n}\nfunction empty() {\n    return text('');\n}\nfunction listen(node, event, handler, options) {\n    node.addEventListener(event, handler, options);\n    return () => node.removeEventListener(event, handler, options);\n}\nfunction prevent_default(fn) {\n    return function (event) {\n        event.preventDefault();\n        // @ts-ignore\n        return fn.call(this, event);\n    };\n}\nfunction stop_propagation(fn) {\n    return function (event) {\n        event.stopPropagation();\n        // @ts-ignore\n        return fn.call(this, event);\n    };\n}\nfunction self(fn) {\n    return function (event) {\n        // @ts-ignore\n        if (event.target === this)\n            fn.call(this, event);\n    };\n}\nfunction attr(node, attribute, value) {\n    if (value == null)\n        node.removeAttribute(attribute);\n    else if (node.getAttribute(attribute) !== value)\n        node.setAttribute(attribute, value);\n}\nfunction set_attributes(node, attributes) {\n    // @ts-ignore\n    const descriptors = Object.getOwnPropertyDescriptors(node.__proto__);\n    for (const key in attributes) {\n        if (attributes[key] == null) {\n            node.removeAttribute(key);\n        }\n        else if (key === 'style') {\n            node.style.cssText = attributes[key];\n        }\n        else if (key === '__value' || descriptors[key] && descriptors[key].set) {\n            node[key] = attributes[key];\n        }\n        else {\n            attr(node, key, attributes[key]);\n        }\n    }\n}\nfunction set_svg_attributes(node, attributes) {\n    for (const key in attributes) {\n        attr(node, key, attributes[key]);\n    }\n}\nfunction set_custom_element_data(node, prop, value) {\n    if (prop in node) {\n        node[prop] = value;\n    }\n    else {\n        attr(node, prop, value);\n    }\n}\nfunction xlink_attr(node, attribute, value) {\n    node.setAttributeNS('http://www.w3.org/1999/xlink', attribute, value);\n}\nfunction get_binding_group_value(group) {\n    const value = [];\n    for (let i = 0; i < group.length; i += 1) {\n        if (group[i].checked)\n            value.push(group[i].__value);\n    }\n    return value;\n}\nfunction to_number(value) {\n    return value === '' ? undefined : +value;\n}\nfunction time_ranges_to_array(ranges) {\n    const array = [];\n    for (let i = 0; i < ranges.length; i += 1) {\n        array.push({ start: ranges.start(i), end: ranges.end(i) });\n    }\n    return array;\n}\nfunction children(element) {\n    return Array.from(element.childNodes);\n}\nfunction claim_element(nodes, name, attributes, svg) {\n    for (let i = 0; i < nodes.length; i += 1) {\n        const node = nodes[i];\n        if (node.nodeName === name) {\n            let j = 0;\n            while (j < node.attributes.length) {\n                const attribute = node.attributes[j];\n                if (attributes[attribute.name]) {\n                    j++;\n                }\n                else {\n                    node.removeAttribute(attribute.name);\n                }\n            }\n            return nodes.splice(i, 1)[0];\n        }\n    }\n    return svg ? svg_element(name) : element(name);\n}\nfunction claim_text(nodes, data) {\n    for (let i = 0; i < nodes.length; i += 1) {\n        const node = nodes[i];\n        if (node.nodeType === 3) {\n            node.data = '' + data;\n            return nodes.splice(i, 1)[0];\n        }\n    }\n    return text(data);\n}\nfunction claim_space(nodes) {\n    return claim_text(nodes, ' ');\n}\nfunction set_data(text, data) {\n    data = '' + data;\n    if (text.data !== data)\n        text.data = data;\n}\nfunction set_input_value(input, value) {\n    if (value != null || input.value) {\n        input.value = value;\n    }\n}\nfunction set_input_type(input, type) {\n    try {\n        input.type = type;\n    }\n    catch (e) {\n        // do nothing\n    }\n}\nfunction set_style(node, key, value, important) {\n    node.style.setProperty(key, value, important ? 'important' : '');\n}\nfunction select_option(select, value) {\n    for (let i = 0; i < select.options.length; i += 1) {\n        const option = select.options[i];\n        if (option.__value === value) {\n            option.selected = true;\n            return;\n        }\n    }\n}\nfunction select_options(select, value) {\n    for (let i = 0; i < select.options.length; i += 1) {\n        const option = select.options[i];\n        option.selected = ~value.indexOf(option.__value);\n    }\n}\nfunction select_value(select) {\n    const selected_option = select.querySelector(':checked') || select.options[0];\n    return selected_option && selected_option.__value;\n}\nfunction select_multiple_value(select) {\n    return [].map.call(select.querySelectorAll(':checked'), option => option.__value);\n}\nfunction add_resize_listener(element, fn) {\n    if (getComputedStyle(element).position === 'static') {\n        element.style.position = 'relative';\n    }\n    const object = document.createElement('object');\n    object.setAttribute('style', 'display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; pointer-events: none; z-index: -1;');\n    object.setAttribute('aria-hidden', 'true');\n    object.type = 'text/html';\n    object.tabIndex = -1;\n    let win;\n    object.onload = () => {\n        win = object.contentDocument.defaultView;\n        win.addEventListener('resize', fn);\n    };\n    if (/Trident/.test(navigator.userAgent)) {\n        element.appendChild(object);\n        object.data = 'about:blank';\n    }\n    else {\n        object.data = 'about:blank';\n        element.appendChild(object);\n    }\n    return {\n        cancel: () => {\n            win && win.removeEventListener && win.removeEventListener('resize', fn);\n            element.removeChild(object);\n        }\n    };\n}\nfunction toggle_class(element, name, toggle) {\n    element.classList[toggle ? 'add' : 'remove'](name);\n}\nfunction custom_event(type, detail) {\n    const e = document.createEvent('CustomEvent');\n    e.initCustomEvent(type, false, false, detail);\n    return e;\n}\nfunction query_selector_all(selector, parent = document.body) {\n    return Array.from(parent.querySelectorAll(selector));\n}\nclass HtmlTag {\n    constructor(html, anchor = null) {\n        this.e = element('div');\n        this.a = anchor;\n        this.u(html);\n    }\n    m(target, anchor = null) {\n        for (let i = 0; i < this.n.length; i += 1) {\n            insert(target, this.n[i], anchor);\n        }\n        this.t = target;\n    }\n    u(html) {\n        this.e.innerHTML = html;\n        this.n = Array.from(this.e.childNodes);\n    }\n    p(html) {\n        this.d();\n        this.u(html);\n        this.m(this.t, this.a);\n    }\n    d() {\n        this.n.forEach(detach);\n    }\n}\n\nconst active_docs = new Set();\nlet active = 0;\n// https://github.com/darkskyapp/string-hash/blob/master/index.js\nfunction hash(str) {\n    let hash = 5381;\n    let i = str.length;\n    while (i--)\n        hash = ((hash << 5) - hash) ^ str.charCodeAt(i);\n    return hash >>> 0;\n}\nfunction create_rule(node, a, b, duration, delay, ease, fn, uid = 0) {\n    const step = 16.666 / duration;\n    let keyframes = '{\\n';\n    for (let p = 0; p <= 1; p += step) {\n        const t = a + (b - a) * ease(p);\n        keyframes += p * 100 + `%{${fn(t, 1 - t)}}\\n`;\n    }\n    const rule = keyframes + `100% {${fn(b, 1 - b)}}\\n}`;\n    const name = `__svelte_${hash(rule)}_${uid}`;\n    const doc = node.ownerDocument;\n    active_docs.add(doc);\n    const stylesheet = doc.__svelte_stylesheet || (doc.__svelte_stylesheet = doc.head.appendChild(element('style')).sheet);\n    const current_rules = doc.__svelte_rules || (doc.__svelte_rules = {});\n    if (!current_rules[name]) {\n        current_rules[name] = true;\n        stylesheet.insertRule(`@keyframes ${name} ${rule}`, stylesheet.cssRules.length);\n    }\n    const animation = node.style.animation || '';\n    node.style.animation = `${animation ? `${animation}, ` : ``}${name} ${duration}ms linear ${delay}ms 1 both`;\n    active += 1;\n    return name;\n}\nfunction delete_rule(node, name) {\n    const previous = (node.style.animation || '').split(', ');\n    const next = previous.filter(name\n        ? anim => anim.indexOf(name) < 0 // remove specific animation\n        : anim => anim.indexOf('__svelte') === -1 // remove all Svelte animations\n    );\n    const deleted = previous.length - next.length;\n    if (deleted) {\n        node.style.animation = next.join(', ');\n        active -= deleted;\n        if (!active)\n            clear_rules();\n    }\n}\nfunction clear_rules() {\n    raf(() => {\n        if (active)\n            return;\n        active_docs.forEach(doc => {\n            const stylesheet = doc.__svelte_stylesheet;\n            let i = stylesheet.cssRules.length;\n            while (i--)\n                stylesheet.deleteRule(i);\n            doc.__svelte_rules = {};\n        });\n        active_docs.clear();\n    });\n}\n\nfunction create_animation(node, from, fn, params) {\n    if (!from)\n        return noop;\n    const to = node.getBoundingClientRect();\n    if (from.left === to.left && from.right === to.right && from.top === to.top && from.bottom === to.bottom)\n        return noop;\n    const { delay = 0, duration = 300, easing = identity, \n    // @ts-ignore todo: should this be separated from destructuring? Or start/end added to public api and documentation?\n    start: start_time = now() + delay, \n    // @ts-ignore todo:\n    end = start_time + duration, tick = noop, css } = fn(node, { from, to }, params);\n    let running = true;\n    let started = false;\n    let name;\n    function start() {\n        if (css) {\n            name = create_rule(node, 0, 1, duration, delay, easing, css);\n        }\n        if (!delay) {\n            started = true;\n        }\n    }\n    function stop() {\n        if (css)\n            delete_rule(node, name);\n        running = false;\n    }\n    loop(now => {\n        if (!started && now >= start_time) {\n            started = true;\n        }\n        if (started && now >= end) {\n            tick(1, 0);\n            stop();\n        }\n        if (!running) {\n            return false;\n        }\n        if (started) {\n            const p = now - start_time;\n            const t = 0 + 1 * easing(p / duration);\n            tick(t, 1 - t);\n        }\n        return true;\n    });\n    start();\n    tick(0, 1);\n    return stop;\n}\nfunction fix_position(node) {\n    const style = getComputedStyle(node);\n    if (style.position !== 'absolute' && style.position !== 'fixed') {\n        const { width, height } = style;\n        const a = node.getBoundingClientRect();\n        node.style.position = 'absolute';\n        node.style.width = width;\n        node.style.height = height;\n        add_transform(node, a);\n    }\n}\nfunction add_transform(node, a) {\n    const b = node.getBoundingClientRect();\n    if (a.left !== b.left || a.top !== b.top) {\n        const style = getComputedStyle(node);\n        const transform = style.transform === 'none' ? '' : style.transform;\n        node.style.transform = `${transform} translate(${a.left - b.left}px, ${a.top - b.top}px)`;\n    }\n}\n\nlet current_component;\nfunction set_current_component(component) {\n    current_component = component;\n}\nfunction get_current_component() {\n    if (!current_component)\n        throw new Error(`Function called outside component initialization`);\n    return current_component;\n}\nfunction beforeUpdate(fn) {\n    get_current_component().$$.before_update.push(fn);\n}\nfunction onMount(fn) {\n    get_current_component().$$.on_mount.push(fn);\n}\nfunction afterUpdate(fn) {\n    get_current_component().$$.after_update.push(fn);\n}\nfunction onDestroy(fn) {\n    get_current_component().$$.on_destroy.push(fn);\n}\nfunction createEventDispatcher() {\n    const component = get_current_component();\n    return (type, detail) => {\n        const callbacks = component.$$.callbacks[type];\n        if (callbacks) {\n            // TODO are there situations where events could be dispatched\n            // in a server (non-DOM) environment?\n            const event = custom_event(type, detail);\n            callbacks.slice().forEach(fn => {\n                fn.call(component, event);\n            });\n        }\n    };\n}\nfunction setContext(key, context) {\n    get_current_component().$$.context.set(key, context);\n}\nfunction getContext(key) {\n    return get_current_component().$$.context.get(key);\n}\n// TODO figure out if we still want to support\n// shorthand events, or if we want to implement\n// a real bubbling mechanism\nfunction bubble(component, event) {\n    const callbacks = component.$$.callbacks[event.type];\n    if (callbacks) {\n        callbacks.slice().forEach(fn => fn(event));\n    }\n}\n\nconst dirty_components = [];\nconst intros = { enabled: false };\nconst binding_callbacks = [];\nconst render_callbacks = [];\nconst flush_callbacks = [];\nconst resolved_promise = Promise.resolve();\nlet update_scheduled = false;\nfunction schedule_update() {\n    if (!update_scheduled) {\n        update_scheduled = true;\n        resolved_promise.then(flush);\n    }\n}\nfunction tick() {\n    schedule_update();\n    return resolved_promise;\n}\nfunction add_render_callback(fn) {\n    render_callbacks.push(fn);\n}\nfunction add_flush_callback(fn) {\n    flush_callbacks.push(fn);\n}\nlet flushing = false;\nconst seen_callbacks = new Set();\nfunction flush() {\n    if (flushing)\n        return;\n    flushing = true;\n    do {\n        // first, call beforeUpdate functions\n        // and update components\n        for (let i = 0; i < dirty_components.length; i += 1) {\n            const component = dirty_components[i];\n            set_current_component(component);\n            update(component.$$);\n        }\n        dirty_components.length = 0;\n        while (binding_callbacks.length)\n            binding_callbacks.pop()();\n        // then, once components are updated, call\n        // afterUpdate functions. This may cause\n        // subsequent updates...\n        for (let i = 0; i < render_callbacks.length; i += 1) {\n            const callback = render_callbacks[i];\n            if (!seen_callbacks.has(callback)) {\n                // ...so guard against infinite loops\n                seen_callbacks.add(callback);\n                callback();\n            }\n        }\n        render_callbacks.length = 0;\n    } while (dirty_components.length);\n    while (flush_callbacks.length) {\n        flush_callbacks.pop()();\n    }\n    update_scheduled = false;\n    flushing = false;\n    seen_callbacks.clear();\n}\nfunction update($$) {\n    if ($$.fragment !== null) {\n        $$.update();\n        run_all($$.before_update);\n        const dirty = $$.dirty;\n        $$.dirty = [-1];\n        $$.fragment && $$.fragment.p($$.ctx, dirty);\n        $$.after_update.forEach(add_render_callback);\n    }\n}\n\nlet promise;\nfunction wait() {\n    if (!promise) {\n        promise = Promise.resolve();\n        promise.then(() => {\n            promise = null;\n        });\n    }\n    return promise;\n}\nfunction dispatch(node, direction, kind) {\n    node.dispatchEvent(custom_event(`${direction ? 'intro' : 'outro'}${kind}`));\n}\nconst outroing = new Set();\nlet outros;\nfunction group_outros() {\n    outros = {\n        r: 0,\n        c: [],\n        p: outros // parent group\n    };\n}\nfunction check_outros() {\n    if (!outros.r) {\n        run_all(outros.c);\n    }\n    outros = outros.p;\n}\nfunction transition_in(block, local) {\n    if (block && block.i) {\n        outroing.delete(block);\n        block.i(local);\n    }\n}\nfunction transition_out(block, local, detach, callback) {\n    if (block && block.o) {\n        if (outroing.has(block))\n            return;\n        outroing.add(block);\n        outros.c.push(() => {\n            outroing.delete(block);\n            if (callback) {\n                if (detach)\n                    block.d(1);\n                callback();\n            }\n        });\n        block.o(local);\n    }\n}\nconst null_transition = { duration: 0 };\nfunction create_in_transition(node, fn, params) {\n    let config = fn(node, params);\n    let running = false;\n    let animation_name;\n    let task;\n    let uid = 0;\n    function cleanup() {\n        if (animation_name)\n            delete_rule(node, animation_name);\n    }\n    function go() {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        if (css)\n            animation_name = create_rule(node, 0, 1, duration, delay, easing, css, uid++);\n        tick(0, 1);\n        const start_time = now() + delay;\n        const end_time = start_time + duration;\n        if (task)\n            task.abort();\n        running = true;\n        add_render_callback(() => dispatch(node, true, 'start'));\n        task = loop(now => {\n            if (running) {\n                if (now >= end_time) {\n                    tick(1, 0);\n                    dispatch(node, true, 'end');\n                    cleanup();\n                    return running = false;\n                }\n                if (now >= start_time) {\n                    const t = easing((now - start_time) / duration);\n                    tick(t, 1 - t);\n                }\n            }\n            return running;\n        });\n    }\n    let started = false;\n    return {\n        start() {\n            if (started)\n                return;\n            delete_rule(node);\n            if (is_function(config)) {\n                config = config();\n                wait().then(go);\n            }\n            else {\n                go();\n            }\n        },\n        invalidate() {\n            started = false;\n        },\n        end() {\n            if (running) {\n                cleanup();\n                running = false;\n            }\n        }\n    };\n}\nfunction create_out_transition(node, fn, params) {\n    let config = fn(node, params);\n    let running = true;\n    let animation_name;\n    const group = outros;\n    group.r += 1;\n    function go() {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        if (css)\n            animation_name = create_rule(node, 1, 0, duration, delay, easing, css);\n        const start_time = now() + delay;\n        const end_time = start_time + duration;\n        add_render_callback(() => dispatch(node, false, 'start'));\n        loop(now => {\n            if (running) {\n                if (now >= end_time) {\n                    tick(0, 1);\n                    dispatch(node, false, 'end');\n                    if (!--group.r) {\n                        // this will result in `end()` being called,\n                        // so we don't need to clean up here\n                        run_all(group.c);\n                    }\n                    return false;\n                }\n                if (now >= start_time) {\n                    const t = easing((now - start_time) / duration);\n                    tick(1 - t, t);\n                }\n            }\n            return running;\n        });\n    }\n    if (is_function(config)) {\n        wait().then(() => {\n            // @ts-ignore\n            config = config();\n            go();\n        });\n    }\n    else {\n        go();\n    }\n    return {\n        end(reset) {\n            if (reset && config.tick) {\n                config.tick(1, 0);\n            }\n            if (running) {\n                if (animation_name)\n                    delete_rule(node, animation_name);\n                running = false;\n            }\n        }\n    };\n}\nfunction create_bidirectional_transition(node, fn, params, intro) {\n    let config = fn(node, params);\n    let t = intro ? 0 : 1;\n    let running_program = null;\n    let pending_program = null;\n    let animation_name = null;\n    function clear_animation() {\n        if (animation_name)\n            delete_rule(node, animation_name);\n    }\n    function init(program, duration) {\n        const d = program.b - t;\n        duration *= Math.abs(d);\n        return {\n            a: t,\n            b: program.b,\n            d,\n            duration,\n            start: program.start,\n            end: program.start + duration,\n            group: program.group\n        };\n    }\n    function go(b) {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        const program = {\n            start: now() + delay,\n            b\n        };\n        if (!b) {\n            // @ts-ignore todo: improve typings\n            program.group = outros;\n            outros.r += 1;\n        }\n        if (running_program) {\n            pending_program = program;\n        }\n        else {\n            // if this is an intro, and there's a delay, we need to do\n            // an initial tick and/or apply CSS animation immediately\n            if (css) {\n                clear_animation();\n                animation_name = create_rule(node, t, b, duration, delay, easing, css);\n            }\n            if (b)\n                tick(0, 1);\n            running_program = init(program, duration);\n            add_render_callback(() => dispatch(node, b, 'start'));\n            loop(now => {\n                if (pending_program && now > pending_program.start) {\n                    running_program = init(pending_program, duration);\n                    pending_program = null;\n                    dispatch(node, running_program.b, 'start');\n                    if (css) {\n                        clear_animation();\n                        animation_name = create_rule(node, t, running_program.b, running_program.duration, 0, easing, config.css);\n                    }\n                }\n                if (running_program) {\n                    if (now >= running_program.end) {\n                        tick(t = running_program.b, 1 - t);\n                        dispatch(node, running_program.b, 'end');\n                        if (!pending_program) {\n                            // we're done\n                            if (running_program.b) {\n                                // intro — we can tidy up immediately\n                                clear_animation();\n                            }\n                            else {\n                                // outro — needs to be coordinated\n                                if (!--running_program.group.r)\n                                    run_all(running_program.group.c);\n                            }\n                        }\n                        running_program = null;\n                    }\n                    else if (now >= running_program.start) {\n                        const p = now - running_program.start;\n                        t = running_program.a + running_program.d * easing(p / running_program.duration);\n                        tick(t, 1 - t);\n                    }\n                }\n                return !!(running_program || pending_program);\n            });\n        }\n    }\n    return {\n        run(b) {\n            if (is_function(config)) {\n                wait().then(() => {\n                    // @ts-ignore\n                    config = config();\n                    go(b);\n                });\n            }\n            else {\n                go(b);\n            }\n        },\n        end() {\n            clear_animation();\n            running_program = pending_program = null;\n        }\n    };\n}\n\nfunction handle_promise(promise, info) {\n    const token = info.token = {};\n    function update(type, index, key, value) {\n        if (info.token !== token)\n            return;\n        info.resolved = value;\n        let child_ctx = info.ctx;\n        if (key !== undefined) {\n            child_ctx = child_ctx.slice();\n            child_ctx[key] = value;\n        }\n        const block = type && (info.current = type)(child_ctx);\n        let needs_flush = false;\n        if (info.block) {\n            if (info.blocks) {\n                info.blocks.forEach((block, i) => {\n                    if (i !== index && block) {\n                        group_outros();\n                        transition_out(block, 1, 1, () => {\n                            info.blocks[i] = null;\n                        });\n                        check_outros();\n                    }\n                });\n            }\n            else {\n                info.block.d(1);\n            }\n            block.c();\n            transition_in(block, 1);\n            block.m(info.mount(), info.anchor);\n            needs_flush = true;\n        }\n        info.block = block;\n        if (info.blocks)\n            info.blocks[index] = block;\n        if (needs_flush) {\n            flush();\n        }\n    }\n    if (is_promise(promise)) {\n        const current_component = get_current_component();\n        promise.then(value => {\n            set_current_component(current_component);\n            update(info.then, 1, info.value, value);\n            set_current_component(null);\n        }, error => {\n            set_current_component(current_component);\n            update(info.catch, 2, info.error, error);\n            set_current_component(null);\n        });\n        // if we previously had a then/catch block, destroy it\n        if (info.current !== info.pending) {\n            update(info.pending, 0);\n            return true;\n        }\n    }\n    else {\n        if (info.current !== info.then) {\n            update(info.then, 1, info.value, promise);\n            return true;\n        }\n        info.resolved = promise;\n    }\n}\n\nconst globals = (typeof window !== 'undefined' ? window : global);\n\nfunction destroy_block(block, lookup) {\n    block.d(1);\n    lookup.delete(block.key);\n}\nfunction outro_and_destroy_block(block, lookup) {\n    transition_out(block, 1, 1, () => {\n        lookup.delete(block.key);\n    });\n}\nfunction fix_and_destroy_block(block, lookup) {\n    block.f();\n    destroy_block(block, lookup);\n}\nfunction fix_and_outro_and_destroy_block(block, lookup) {\n    block.f();\n    outro_and_destroy_block(block, lookup);\n}\nfunction update_keyed_each(old_blocks, dirty, get_key, dynamic, ctx, list, lookup, node, destroy, create_each_block, next, get_context) {\n    let o = old_blocks.length;\n    let n = list.length;\n    let i = o;\n    const old_indexes = {};\n    while (i--)\n        old_indexes[old_blocks[i].key] = i;\n    const new_blocks = [];\n    const new_lookup = new Map();\n    const deltas = new Map();\n    i = n;\n    while (i--) {\n        const child_ctx = get_context(ctx, list, i);\n        const key = get_key(child_ctx);\n        let block = lookup.get(key);\n        if (!block) {\n            block = create_each_block(key, child_ctx);\n            block.c();\n        }\n        else if (dynamic) {\n            block.p(child_ctx, dirty);\n        }\n        new_lookup.set(key, new_blocks[i] = block);\n        if (key in old_indexes)\n            deltas.set(key, Math.abs(i - old_indexes[key]));\n    }\n    const will_move = new Set();\n    const did_move = new Set();\n    function insert(block) {\n        transition_in(block, 1);\n        block.m(node, next, lookup.has(block.key));\n        lookup.set(block.key, block);\n        next = block.first;\n        n--;\n    }\n    while (o && n) {\n        const new_block = new_blocks[n - 1];\n        const old_block = old_blocks[o - 1];\n        const new_key = new_block.key;\n        const old_key = old_block.key;\n        if (new_block === old_block) {\n            // do nothing\n            next = new_block.first;\n            o--;\n            n--;\n        }\n        else if (!new_lookup.has(old_key)) {\n            // remove old block\n            destroy(old_block, lookup);\n            o--;\n        }\n        else if (!lookup.has(new_key) || will_move.has(new_key)) {\n            insert(new_block);\n        }\n        else if (did_move.has(old_key)) {\n            o--;\n        }\n        else if (deltas.get(new_key) > deltas.get(old_key)) {\n            did_move.add(new_key);\n            insert(new_block);\n        }\n        else {\n            will_move.add(old_key);\n            o--;\n        }\n    }\n    while (o--) {\n        const old_block = old_blocks[o];\n        if (!new_lookup.has(old_block.key))\n            destroy(old_block, lookup);\n    }\n    while (n)\n        insert(new_blocks[n - 1]);\n    return new_blocks;\n}\nfunction validate_each_keys(ctx, list, get_context, get_key) {\n    const keys = new Set();\n    for (let i = 0; i < list.length; i++) {\n        const key = get_key(get_context(ctx, list, i));\n        if (keys.has(key)) {\n            throw new Error(`Cannot have duplicate keys in a keyed each`);\n        }\n        keys.add(key);\n    }\n}\n\nfunction get_spread_update(levels, updates) {\n    const update = {};\n    const to_null_out = {};\n    const accounted_for = { $$scope: 1 };\n    let i = levels.length;\n    while (i--) {\n        const o = levels[i];\n        const n = updates[i];\n        if (n) {\n            for (const key in o) {\n                if (!(key in n))\n                    to_null_out[key] = 1;\n            }\n            for (const key in n) {\n                if (!accounted_for[key]) {\n                    update[key] = n[key];\n                    accounted_for[key] = 1;\n                }\n            }\n            levels[i] = n;\n        }\n        else {\n            for (const key in o) {\n                accounted_for[key] = 1;\n            }\n        }\n    }\n    for (const key in to_null_out) {\n        if (!(key in update))\n            update[key] = undefined;\n    }\n    return update;\n}\nfunction get_spread_object(spread_props) {\n    return typeof spread_props === 'object' && spread_props !== null ? spread_props : {};\n}\n\n// source: https://html.spec.whatwg.org/multipage/indices.html\nconst boolean_attributes = new Set([\n    'allowfullscreen',\n    'allowpaymentrequest',\n    'async',\n    'autofocus',\n    'autoplay',\n    'checked',\n    'controls',\n    'default',\n    'defer',\n    'disabled',\n    'formnovalidate',\n    'hidden',\n    'ismap',\n    'loop',\n    'multiple',\n    'muted',\n    'nomodule',\n    'novalidate',\n    'open',\n    'playsinline',\n    'readonly',\n    'required',\n    'reversed',\n    'selected'\n]);\n\nconst invalid_attribute_name_character = /[\\s'\">/=\\u{FDD0}-\\u{FDEF}\\u{FFFE}\\u{FFFF}\\u{1FFFE}\\u{1FFFF}\\u{2FFFE}\\u{2FFFF}\\u{3FFFE}\\u{3FFFF}\\u{4FFFE}\\u{4FFFF}\\u{5FFFE}\\u{5FFFF}\\u{6FFFE}\\u{6FFFF}\\u{7FFFE}\\u{7FFFF}\\u{8FFFE}\\u{8FFFF}\\u{9FFFE}\\u{9FFFF}\\u{AFFFE}\\u{AFFFF}\\u{BFFFE}\\u{BFFFF}\\u{CFFFE}\\u{CFFFF}\\u{DFFFE}\\u{DFFFF}\\u{EFFFE}\\u{EFFFF}\\u{FFFFE}\\u{FFFFF}\\u{10FFFE}\\u{10FFFF}]/u;\n// https://html.spec.whatwg.org/multipage/syntax.html#attributes-2\n// https://infra.spec.whatwg.org/#noncharacter\nfunction spread(args, classes_to_add) {\n    const attributes = Object.assign({}, ...args);\n    if (classes_to_add) {\n        if (attributes.class == null) {\n            attributes.class = classes_to_add;\n        }\n        else {\n            attributes.class += ' ' + classes_to_add;\n        }\n    }\n    let str = '';\n    Object.keys(attributes).forEach(name => {\n        if (invalid_attribute_name_character.test(name))\n            return;\n        const value = attributes[name];\n        if (value === true)\n            str += \" \" + name;\n        else if (boolean_attributes.has(name.toLowerCase())) {\n            if (value)\n                str += \" \" + name;\n        }\n        else if (value != null) {\n            str += ` ${name}=\"${String(value).replace(/\"/g, '&#34;').replace(/'/g, '&#39;')}\"`;\n        }\n    });\n    return str;\n}\nconst escaped = {\n    '\"': '&quot;',\n    \"'\": '&#39;',\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;'\n};\nfunction escape(html) {\n    return String(html).replace(/[\"'&<>]/g, match => escaped[match]);\n}\nfunction each(items, fn) {\n    let str = '';\n    for (let i = 0; i < items.length; i += 1) {\n        str += fn(items[i], i);\n    }\n    return str;\n}\nconst missing_component = {\n    $$render: () => ''\n};\nfunction validate_component(component, name) {\n    if (!component || !component.$$render) {\n        if (name === 'svelte:component')\n            name += ' this={...}';\n        throw new Error(`<${name}> is not a valid SSR component. You may need to review your build config to ensure that dependencies are compiled, rather than imported as pre-compiled modules`);\n    }\n    return component;\n}\nfunction debug(file, line, column, values) {\n    console.log(`{@debug} ${file ? file + ' ' : ''}(${line}:${column})`); // eslint-disable-line no-console\n    console.log(values); // eslint-disable-line no-console\n    return '';\n}\nlet on_destroy;\nfunction create_ssr_component(fn) {\n    function $$render(result, props, bindings, slots) {\n        const parent_component = current_component;\n        const $$ = {\n            on_destroy,\n            context: new Map(parent_component ? parent_component.$$.context : []),\n            // these will be immediately discarded\n            on_mount: [],\n            before_update: [],\n            after_update: [],\n            callbacks: blank_object()\n        };\n        set_current_component({ $$ });\n        const html = fn(result, props, bindings, slots);\n        set_current_component(parent_component);\n        return html;\n    }\n    return {\n        render: (props = {}, options = {}) => {\n            on_destroy = [];\n            const result = { title: '', head: '', css: new Set() };\n            const html = $$render(result, props, {}, options);\n            run_all(on_destroy);\n            return {\n                html,\n                css: {\n                    code: Array.from(result.css).map(css => css.code).join('\\n'),\n                    map: null // TODO\n                },\n                head: result.title + result.head\n            };\n        },\n        $$render\n    };\n}\nfunction add_attribute(name, value, boolean) {\n    if (value == null || (boolean && !value))\n        return '';\n    return ` ${name}${value === true ? '' : `=${typeof value === 'string' ? JSON.stringify(escape(value)) : `\"${value}\"`}`}`;\n}\nfunction add_classes(classes) {\n    return classes ? ` class=\"${classes}\"` : ``;\n}\n\nfunction bind(component, name, callback) {\n    const index = component.$$.props[name];\n    if (index !== undefined) {\n        component.$$.bound[index] = callback;\n        callback(component.$$.ctx[index]);\n    }\n}\nfunction create_component(block) {\n    block && block.c();\n}\nfunction claim_component(block, parent_nodes) {\n    block && block.l(parent_nodes);\n}\nfunction mount_component(component, target, anchor) {\n    const { fragment, on_mount, on_destroy, after_update } = component.$$;\n    fragment && fragment.m(target, anchor);\n    // onMount happens before the initial afterUpdate\n    add_render_callback(() => {\n        const new_on_destroy = on_mount.map(run).filter(is_function);\n        if (on_destroy) {\n            on_destroy.push(...new_on_destroy);\n        }\n        else {\n            // Edge case - component was destroyed immediately,\n            // most likely as a result of a binding initialising\n            run_all(new_on_destroy);\n        }\n        component.$$.on_mount = [];\n    });\n    after_update.forEach(add_render_callback);\n}\nfunction destroy_component(component, detaching) {\n    const $$ = component.$$;\n    if ($$.fragment !== null) {\n        run_all($$.on_destroy);\n        $$.fragment && $$.fragment.d(detaching);\n        // TODO null out other refs, including component.$$ (but need to\n        // preserve final state?)\n        $$.on_destroy = $$.fragment = null;\n        $$.ctx = [];\n    }\n}\nfunction make_dirty(component, i) {\n    if (component.$$.dirty[0] === -1) {\n        dirty_components.push(component);\n        schedule_update();\n        component.$$.dirty.fill(0);\n    }\n    component.$$.dirty[(i / 31) | 0] |= (1 << (i % 31));\n}\nfunction init(component, options, instance, create_fragment, not_equal, props, dirty = [-1]) {\n    const parent_component = current_component;\n    set_current_component(component);\n    const prop_values = options.props || {};\n    const $$ = component.$$ = {\n        fragment: null,\n        ctx: null,\n        // state\n        props,\n        update: noop,\n        not_equal,\n        bound: blank_object(),\n        // lifecycle\n        on_mount: [],\n        on_destroy: [],\n        before_update: [],\n        after_update: [],\n        context: new Map(parent_component ? parent_component.$$.context : []),\n        // everything else\n        callbacks: blank_object(),\n        dirty\n    };\n    let ready = false;\n    $$.ctx = instance\n        ? instance(component, prop_values, (i, ret, ...rest) => {\n            const value = rest.length ? rest[0] : ret;\n            if ($$.ctx && not_equal($$.ctx[i], $$.ctx[i] = value)) {\n                if ($$.bound[i])\n                    $$.bound[i](value);\n                if (ready)\n                    make_dirty(component, i);\n            }\n            return ret;\n        })\n        : [];\n    $$.update();\n    ready = true;\n    run_all($$.before_update);\n    // `false` as a special case of no DOM component\n    $$.fragment = create_fragment ? create_fragment($$.ctx) : false;\n    if (options.target) {\n        if (options.hydrate) {\n            const nodes = children(options.target);\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            $$.fragment && $$.fragment.l(nodes);\n            nodes.forEach(detach);\n        }\n        else {\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            $$.fragment && $$.fragment.c();\n        }\n        if (options.intro)\n            transition_in(component.$$.fragment);\n        mount_component(component, options.target, options.anchor);\n        flush();\n    }\n    set_current_component(parent_component);\n}\nlet SvelteElement;\nif (typeof HTMLElement === 'function') {\n    SvelteElement = class extends HTMLElement {\n        constructor() {\n            super();\n            this.attachShadow({ mode: 'open' });\n        }\n        connectedCallback() {\n            // @ts-ignore todo: improve typings\n            for (const key in this.$$.slotted) {\n                // @ts-ignore todo: improve typings\n                this.appendChild(this.$$.slotted[key]);\n            }\n        }\n        attributeChangedCallback(attr, _oldValue, newValue) {\n            this[attr] = newValue;\n        }\n        $destroy() {\n            destroy_component(this, 1);\n            this.$destroy = noop;\n        }\n        $on(type, callback) {\n            // TODO should this delegate to addEventListener?\n            const callbacks = (this.$$.callbacks[type] || (this.$$.callbacks[type] = []));\n            callbacks.push(callback);\n            return () => {\n                const index = callbacks.indexOf(callback);\n                if (index !== -1)\n                    callbacks.splice(index, 1);\n            };\n        }\n        $set() {\n            // overridden by instance, if it has props\n        }\n    };\n}\nclass SvelteComponent {\n    $destroy() {\n        destroy_component(this, 1);\n        this.$destroy = noop;\n    }\n    $on(type, callback) {\n        const callbacks = (this.$$.callbacks[type] || (this.$$.callbacks[type] = []));\n        callbacks.push(callback);\n        return () => {\n            const index = callbacks.indexOf(callback);\n            if (index !== -1)\n                callbacks.splice(index, 1);\n        };\n    }\n    $set() {\n        // overridden by instance, if it has props\n    }\n}\n\nfunction dispatch_dev(type, detail) {\n    document.dispatchEvent(custom_event(type, Object.assign({ version: '3.20.1' }, detail)));\n}\nfunction append_dev(target, node) {\n    dispatch_dev(\"SvelteDOMInsert\", { target, node });\n    append(target, node);\n}\nfunction insert_dev(target, node, anchor) {\n    dispatch_dev(\"SvelteDOMInsert\", { target, node, anchor });\n    insert(target, node, anchor);\n}\nfunction detach_dev(node) {\n    dispatch_dev(\"SvelteDOMRemove\", { node });\n    detach(node);\n}\nfunction detach_between_dev(before, after) {\n    while (before.nextSibling && before.nextSibling !== after) {\n        detach_dev(before.nextSibling);\n    }\n}\nfunction detach_before_dev(after) {\n    while (after.previousSibling) {\n        detach_dev(after.previousSibling);\n    }\n}\nfunction detach_after_dev(before) {\n    while (before.nextSibling) {\n        detach_dev(before.nextSibling);\n    }\n}\nfunction listen_dev(node, event, handler, options, has_prevent_default, has_stop_propagation) {\n    const modifiers = options === true ? [\"capture\"] : options ? Array.from(Object.keys(options)) : [];\n    if (has_prevent_default)\n        modifiers.push('preventDefault');\n    if (has_stop_propagation)\n        modifiers.push('stopPropagation');\n    dispatch_dev(\"SvelteDOMAddEventListener\", { node, event, handler, modifiers });\n    const dispose = listen(node, event, handler, options);\n    return () => {\n        dispatch_dev(\"SvelteDOMRemoveEventListener\", { node, event, handler, modifiers });\n        dispose();\n    };\n}\nfunction attr_dev(node, attribute, value) {\n    attr(node, attribute, value);\n    if (value == null)\n        dispatch_dev(\"SvelteDOMRemoveAttribute\", { node, attribute });\n    else\n        dispatch_dev(\"SvelteDOMSetAttribute\", { node, attribute, value });\n}\nfunction prop_dev(node, property, value) {\n    node[property] = value;\n    dispatch_dev(\"SvelteDOMSetProperty\", { node, property, value });\n}\nfunction dataset_dev(node, property, value) {\n    node.dataset[property] = value;\n    dispatch_dev(\"SvelteDOMSetDataset\", { node, property, value });\n}\nfunction set_data_dev(text, data) {\n    data = '' + data;\n    if (text.data === data)\n        return;\n    dispatch_dev(\"SvelteDOMSetData\", { node: text, data });\n    text.data = data;\n}\nfunction validate_each_argument(arg) {\n    if (typeof arg !== 'string' && !(arg && typeof arg === 'object' && 'length' in arg)) {\n        let msg = '{#each} only iterates over array-like objects.';\n        if (typeof Symbol === 'function' && arg && Symbol.iterator in arg) {\n            msg += ' You can use a spread to convert this iterable into an array.';\n        }\n        throw new Error(msg);\n    }\n}\nfunction validate_slots(name, slot, keys) {\n    for (const slot_key of Object.keys(slot)) {\n        if (!~keys.indexOf(slot_key)) {\n            console.warn(`<${name}> received an unexpected slot \"${slot_key}\".`);\n        }\n    }\n}\nclass SvelteComponentDev extends SvelteComponent {\n    constructor(options) {\n        if (!options || (!options.target && !options.$$inline)) {\n            throw new Error(`'target' is a required option`);\n        }\n        super();\n    }\n    $destroy() {\n        super.$destroy();\n        this.$destroy = () => {\n            console.warn(`Component was already destroyed`); // eslint-disable-line no-console\n        };\n    }\n    $capture_state() { }\n    $inject_state() { }\n}\nfunction loop_guard(timeout) {\n    const start = Date.now();\n    return () => {\n        if (Date.now() - start > timeout) {\n            throw new Error(`Infinite loop detected`);\n        }\n    };\n}\n\nexport { HtmlTag, SvelteComponent, SvelteComponentDev, SvelteElement, action_destroyer, add_attribute, add_classes, add_flush_callback, add_location, add_render_callback, add_resize_listener, add_transform, afterUpdate, append, append_dev, assign, attr, attr_dev, beforeUpdate, bind, binding_callbacks, blank_object, bubble, check_outros, children, claim_component, claim_element, claim_space, claim_text, clear_loops, component_subscribe, compute_rest_props, createEventDispatcher, create_animation, create_bidirectional_transition, create_component, create_in_transition, create_out_transition, create_slot, create_ssr_component, current_component, custom_event, dataset_dev, debug, destroy_block, destroy_component, destroy_each, detach, detach_after_dev, detach_before_dev, detach_between_dev, detach_dev, dirty_components, dispatch_dev, each, element, element_is, empty, escape, escaped, exclude_internal_props, fix_and_destroy_block, fix_and_outro_and_destroy_block, fix_position, flush, getContext, get_binding_group_value, get_current_component, get_slot_changes, get_slot_context, get_spread_object, get_spread_update, get_store_value, globals, group_outros, handle_promise, has_prop, identity, init, insert, insert_dev, intros, invalid_attribute_name_character, is_client, is_function, is_promise, listen, listen_dev, loop, loop_guard, missing_component, mount_component, noop, not_equal, now, null_to_empty, object_without_properties, onDestroy, onMount, once, outro_and_destroy_block, prevent_default, prop_dev, query_selector_all, raf, run, run_all, safe_not_equal, schedule_update, select_multiple_value, select_option, select_options, select_value, self, setContext, set_attributes, set_current_component, set_custom_element_data, set_data, set_data_dev, set_input_type, set_input_value, set_now, set_raf, set_store_value, set_style, set_svg_attributes, space, spread, stop_propagation, subscribe, svg_element, text, tick, time_ranges_to_array, to_number, toggle_class, transition_in, transition_out, update_keyed_each, validate_component, validate_each_argument, validate_each_keys, validate_slots, validate_store, xlink_attr };\n","<script>\n    import { createEventDispatcher } from 'svelte';\n    const dispatch = createEventDispatcher();\n\n    function setWifi() {\n        dispatch('setwifi', {\n            ssid: wifi.ssid,\n            password: wifi.password\n        });\n    }\n\n    export const wifi = {\n        ssid: \"\",\n        password: \"\",\n    }\n</script>\n\n<main>\n    <table><tr><td>\n    <label for=\"ssid\">SSID:</label>\n        <input id=\"ssid\" bind:value={wifi.ssid} on:input={setWifi}>\n    </td><td>\n    <label for=\"password\">Password:</label>\n        <input id=\"password\" bind:value={wifi.password} on:input={setWifi}>\n    </td></tr></table>\n</main>\n\n<style>\n    table tr td {\n        padding: 0px;\n        margin: 0px;\n    }\n\n    label {\n        display: block;\n        color: #5f5f5f;\n        font-size: 0.85em;\n        font-weight: 200;\n    }\n\n    input {\n        color: #494949;\n        font-size: 0.85em;\n        font-weight: 100;\n    }\n\n    @media (min-width: 640px) {\n        main {\n            max-width: none;\n        }\n    }\n</style>\n","<script>\n    import { createEventDispatcher } from 'svelte';\n    const dispatch = createEventDispatcher();\n    export let hostip;\n\n    function setHost() {\n        dispatch('sethost', {\n            host: hostip\n        });\n    }\n\n</script>\n\n<main>\n    <label for=\"hostname\">Name :</label>\n    <input id=\"hostname\" bind:value={hostip} placeholder=\"enter host\" on:input={setHost}>\n</main>\n\n<style>\n    label {\n        display: block;\n        color: #5f5f5f;\n        font-size: 0.85em;\n        font-weight: 200;\n    }\n\n    input {\n        color: #494949;\n        font-size: 0.85em;\n        font-weight: 100;\n    }\n\n    @media (min-width: 640px) {\n        main {\n            max-width: none;\n        }\n    }\n</style>\n","<script>\n    import { createEventDispatcher } from 'svelte';\n    const dispatch = createEventDispatcher();\n\n    const maxDigits = 50;\n    const maxSteps = 5;\n\n\n    export const plotter = {\n        zoomFactor: 10\n    }\n\n    export let zoomDigits;\n    $: zoomDigits = plotter.zoomFactor / (maxDigits / maxSteps);\n\n    function setPlotter() {\n        dispatch('setplotter', {\n            zoomFactor: zoomDigits\n        });\n    }\n\n\n</script>\n\n<main>\n        <label for=\"zoomfactor\">Zoomfactor:</label>\n            <input id=\"zoomfacter\" type=range bind:value={plotter.zoomFactor}  min=0 max={maxDigits} on:input={setPlotter}>\n            <input type=text bind:value={zoomDigits}  min=0 max={maxSteps} size=2 disabled>\n\n</main>\n\n<style>\n    label {\n        color: #5f5f5f;\n        font-size: 0.85em;\n        font-weight: 200;\n    }\n\n    input {\n        background-color: #ededed;\n        color: #494949;\n        font-size: 0.85em;\n        font-weight: 100;\n    }\n\n    @media (min-width: 640px) {\n        main {\n            max-width: none;\n        }\n    }\n</style>\n","export function getFilesFromDropEvent({ dataTransfer: { files, items } }) {\n    return files.length\n        ? [...files]\n        : items\n            .filter(({ kind }) => kind === \"file\")\n            .map(({ getAsFile }) => getAsFile());\n}\n\nexport function getFilesFromInputEvent({ target }) {\n    const files = target.files ? [...target.files] : [];\n    target.value = \"\";\n    return files;\n}\n\nexport function createUploadFile( data ) {\n    var file = new File([data], \"/wall-plotter.data\", {type: \"text/plain\"});\n    return file;\n}\n","/*\n * Generated by PEG.js 0.10.0.\n *\n * http://pegjs.org/\n */\n\n\"use strict\";\n\nfunction peg$subclass(child, parent) {\n  function ctor() { this.constructor = child; }\n  ctor.prototype = parent.prototype;\n  child.prototype = new ctor();\n}\n\nfunction peg$SyntaxError(message, expected, found, location) {\n  this.message  = message;\n  this.expected = expected;\n  this.found    = found;\n  this.location = location;\n  this.name     = \"SyntaxError\";\n\n  if (typeof Error.captureStackTrace === \"function\") {\n    Error.captureStackTrace(this, peg$SyntaxError);\n  }\n}\n\npeg$subclass(peg$SyntaxError, Error);\n\npeg$SyntaxError.buildMessage = function(expected, found) {\n  var DESCRIBE_EXPECTATION_FNS = {\n        literal: function(expectation) {\n          return \"\\\"\" + literalEscape(expectation.text) + \"\\\"\";\n        },\n\n        \"class\": function(expectation) {\n          var escapedParts = \"\",\n              i;\n\n          for (i = 0; i < expectation.parts.length; i++) {\n            escapedParts += expectation.parts[i] instanceof Array\n              ? classEscape(expectation.parts[i][0]) + \"-\" + classEscape(expectation.parts[i][1])\n              : classEscape(expectation.parts[i]);\n          }\n\n          return \"[\" + (expectation.inverted ? \"^\" : \"\") + escapedParts + \"]\";\n        },\n\n        any: function(expectation) {\n          return \"any character\";\n        },\n\n        end: function(expectation) {\n          return \"end of input\";\n        },\n\n        other: function(expectation) {\n          return expectation.description;\n        }\n      };\n\n  function hex(ch) {\n    return ch.charCodeAt(0).toString(16).toUpperCase();\n  }\n\n  function literalEscape(s) {\n    return s\n      .replace(/\\\\/g, '\\\\\\\\')\n      .replace(/\"/g,  '\\\\\"')\n      .replace(/\\0/g, '\\\\0')\n      .replace(/\\t/g, '\\\\t')\n      .replace(/\\n/g, '\\\\n')\n      .replace(/\\r/g, '\\\\r')\n      .replace(/[\\x00-\\x0F]/g,          function(ch) { return '\\\\x0' + hex(ch); })\n      .replace(/[\\x10-\\x1F\\x7F-\\x9F]/g, function(ch) { return '\\\\x'  + hex(ch); });\n  }\n\n  function classEscape(s) {\n    return s\n      .replace(/\\\\/g, '\\\\\\\\')\n      .replace(/\\]/g, '\\\\]')\n      .replace(/\\^/g, '\\\\^')\n      .replace(/-/g,  '\\\\-')\n      .replace(/\\0/g, '\\\\0')\n      .replace(/\\t/g, '\\\\t')\n      .replace(/\\n/g, '\\\\n')\n      .replace(/\\r/g, '\\\\r')\n      .replace(/[\\x00-\\x0F]/g,          function(ch) { return '\\\\x0' + hex(ch); })\n      .replace(/[\\x10-\\x1F\\x7F-\\x9F]/g, function(ch) { return '\\\\x'  + hex(ch); });\n  }\n\n  function describeExpectation(expectation) {\n    return DESCRIBE_EXPECTATION_FNS[expectation.type](expectation);\n  }\n\n  function describeExpected(expected) {\n    var descriptions = new Array(expected.length),\n        i, j;\n\n    for (i = 0; i < expected.length; i++) {\n      descriptions[i] = describeExpectation(expected[i]);\n    }\n\n    descriptions.sort();\n\n    if (descriptions.length > 0) {\n      for (i = 1, j = 1; i < descriptions.length; i++) {\n        if (descriptions[i - 1] !== descriptions[i]) {\n          descriptions[j] = descriptions[i];\n          j++;\n        }\n      }\n      descriptions.length = j;\n    }\n\n    switch (descriptions.length) {\n      case 1:\n        return descriptions[0];\n\n      case 2:\n        return descriptions[0] + \" or \" + descriptions[1];\n\n      default:\n        return descriptions.slice(0, -1).join(\", \")\n          + \", or \"\n          + descriptions[descriptions.length - 1];\n    }\n  }\n\n  function describeFound(found) {\n    return found ? \"\\\"\" + literalEscape(found) + \"\\\"\" : \"end of input\";\n  }\n\n  return \"Expected \" + describeExpected(expected) + \" but \" + describeFound(found) + \" found.\";\n};\n\nfunction peg$parse(input, options) {\n  options = options !== void 0 ? options : {};\n\n  var peg$FAILED = {},\n\n      peg$startRuleFunctions = { svg_path: peg$parsesvg_path },\n      peg$startRuleFunction  = peg$parsesvg_path,\n\n      peg$c0 = function(data) {\n          if (!data) return [];\n          for (var cmds=[],i=0;i<data.length;i++) cmds=cmds.concat.apply(cmds,data[i]);\n          var first=cmds[0];\n          if (first && first.code=='m'){ // Per spec, first moveto is never relative\n            delete first.relative;\n            first.code = 'M';\n          }\n          return cmds;\n        },\n      peg$c1 = function(first, more) { return merge(first,more) },\n      peg$c2 = /^[Mm]/,\n      peg$c3 = peg$classExpectation([\"M\", \"m\"], false, false),\n      peg$c4 = function(c, first, more) {\n          var move = commands(c,[first]);\n          if (more) move = move.concat(commands(c=='M' ? 'L' : 'l',more[1]));\n          return move;\n        },\n      peg$c5 = /^[Zz]/,\n      peg$c6 = peg$classExpectation([\"Z\", \"z\"], false, false),\n      peg$c7 = function() { return commands('Z') },\n      peg$c8 = /^[Ll]/,\n      peg$c9 = peg$classExpectation([\"L\", \"l\"], false, false),\n      peg$c10 = function(c, args) { return commands(c,args) },\n      peg$c11 = /^[Hh]/,\n      peg$c12 = peg$classExpectation([\"H\", \"h\"], false, false),\n      peg$c13 = function(c, args) { return commands(c,args.map(function(x){ return {x:x}})) },\n      peg$c14 = /^[Vv]/,\n      peg$c15 = peg$classExpectation([\"V\", \"v\"], false, false),\n      peg$c16 = function(c, args) { return commands(c,args.map(function(y){ return {y:y}})) },\n      peg$c17 = /^[Cc]/,\n      peg$c18 = peg$classExpectation([\"C\", \"c\"], false, false),\n      peg$c19 = function(a, b, c) { return { x1:a.x, y1:a.y, x2:b.x, y2:b.y, x:c.x, y:c.y } },\n      peg$c20 = /^[Ss]/,\n      peg$c21 = peg$classExpectation([\"S\", \"s\"], false, false),\n      peg$c22 = function(b, c) { return { x2:b.x, y2:b.y, x:c.x, y:c.y } },\n      peg$c23 = /^[Qq]/,\n      peg$c24 = peg$classExpectation([\"Q\", \"q\"], false, false),\n      peg$c25 = function(a, b) { return { x1:a.x, y1:a.y, x:b.x, y:b.y } },\n      peg$c26 = /^[Tt]/,\n      peg$c27 = peg$classExpectation([\"T\", \"t\"], false, false),\n      peg$c28 = /^[Aa]/,\n      peg$c29 = peg$classExpectation([\"A\", \"a\"], false, false),\n      peg$c30 = function(rx, ry, xrot, large, sweep, xy) { return { rx:rx, ry:ry, xAxisRotation:xrot, largeArc:large, sweep:sweep, x:xy.x, y:xy.y } },\n      peg$c31 = function(x, y) { return { x:x, y:y } },\n      peg$c32 = function(n) { return n*1 },\n      peg$c33 = function(parts) { return parts.join('')*1 },\n      peg$c34 = /^[01]/,\n      peg$c35 = peg$classExpectation([\"0\", \"1\"], false, false),\n      peg$c36 = function(bit) { return bit=='1' },\n      peg$c37 = function() { return '' },\n      peg$c38 = \",\",\n      peg$c39 = peg$literalExpectation(\",\", false),\n      peg$c40 = function(parts) { return parts.join('') },\n      peg$c41 = \".\",\n      peg$c42 = peg$literalExpectation(\".\", false),\n      peg$c43 = /^[eE]/,\n      peg$c44 = peg$classExpectation([\"e\", \"E\"], false, false),\n      peg$c45 = /^[+\\-]/,\n      peg$c46 = peg$classExpectation([\"+\", \"-\"], false, false),\n      peg$c47 = /^[0-9]/,\n      peg$c48 = peg$classExpectation([[\"0\", \"9\"]], false, false),\n      peg$c49 = function(digits) { return digits.join('') },\n      peg$c50 = /^[ \\t\\n\\r]/,\n      peg$c51 = peg$classExpectation([\" \", \"\\t\", \"\\n\", \"\\r\"], false, false),\n\n      peg$currPos          = 0,\n      peg$savedPos         = 0,\n      peg$posDetailsCache  = [{ line: 1, column: 1 }],\n      peg$maxFailPos       = 0,\n      peg$maxFailExpected  = [],\n      peg$silentFails      = 0,\n\n      peg$result;\n\n  if (\"startRule\" in options) {\n    if (!(options.startRule in peg$startRuleFunctions)) {\n      throw new Error(\"Can't start parsing from rule \\\"\" + options.startRule + \"\\\".\");\n    }\n\n    peg$startRuleFunction = peg$startRuleFunctions[options.startRule];\n  }\n\n  function text() {\n    return input.substring(peg$savedPos, peg$currPos);\n  }\n\n  function location() {\n    return peg$computeLocation(peg$savedPos, peg$currPos);\n  }\n\n  function expected(description, location) {\n    location = location !== void 0 ? location : peg$computeLocation(peg$savedPos, peg$currPos)\n\n    throw peg$buildStructuredError(\n      [peg$otherExpectation(description)],\n      input.substring(peg$savedPos, peg$currPos),\n      location\n    );\n  }\n\n  function error(message, location) {\n    location = location !== void 0 ? location : peg$computeLocation(peg$savedPos, peg$currPos)\n\n    throw peg$buildSimpleError(message, location);\n  }\n\n  function peg$literalExpectation(text, ignoreCase) {\n    return { type: \"literal\", text: text, ignoreCase: ignoreCase };\n  }\n\n  function peg$classExpectation(parts, inverted, ignoreCase) {\n    return { type: \"class\", parts: parts, inverted: inverted, ignoreCase: ignoreCase };\n  }\n\n  function peg$anyExpectation() {\n    return { type: \"any\" };\n  }\n\n  function peg$endExpectation() {\n    return { type: \"end\" };\n  }\n\n  function peg$otherExpectation(description) {\n    return { type: \"other\", description: description };\n  }\n\n  function peg$computePosDetails(pos) {\n    var details = peg$posDetailsCache[pos], p;\n\n    if (details) {\n      return details;\n    } else {\n      p = pos - 1;\n      while (!peg$posDetailsCache[p]) {\n        p--;\n      }\n\n      details = peg$posDetailsCache[p];\n      details = {\n        line:   details.line,\n        column: details.column\n      };\n\n      while (p < pos) {\n        if (input.charCodeAt(p) === 10) {\n          details.line++;\n          details.column = 1;\n        } else {\n          details.column++;\n        }\n\n        p++;\n      }\n\n      peg$posDetailsCache[pos] = details;\n      return details;\n    }\n  }\n\n  function peg$computeLocation(startPos, endPos) {\n    var startPosDetails = peg$computePosDetails(startPos),\n        endPosDetails   = peg$computePosDetails(endPos);\n\n    return {\n      start: {\n        offset: startPos,\n        line:   startPosDetails.line,\n        column: startPosDetails.column\n      },\n      end: {\n        offset: endPos,\n        line:   endPosDetails.line,\n        column: endPosDetails.column\n      }\n    };\n  }\n\n  function peg$fail(expected) {\n    if (peg$currPos < peg$maxFailPos) { return; }\n\n    if (peg$currPos > peg$maxFailPos) {\n      peg$maxFailPos = peg$currPos;\n      peg$maxFailExpected = [];\n    }\n\n    peg$maxFailExpected.push(expected);\n  }\n\n  function peg$buildSimpleError(message, location) {\n    return new peg$SyntaxError(message, null, null, location);\n  }\n\n  function peg$buildStructuredError(expected, found, location) {\n    return new peg$SyntaxError(\n      peg$SyntaxError.buildMessage(expected, found),\n      expected,\n      found,\n      location\n    );\n  }\n\n  function peg$parsesvg_path() {\n    var s0, s1, s2, s3, s4;\n\n    s0 = peg$currPos;\n    s1 = [];\n    s2 = peg$parsewsp();\n    while (s2 !== peg$FAILED) {\n      s1.push(s2);\n      s2 = peg$parsewsp();\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = peg$parsemoveTo_drawTo_commandGroups();\n      if (s2 === peg$FAILED) {\n        s2 = null;\n      }\n      if (s2 !== peg$FAILED) {\n        s3 = [];\n        s4 = peg$parsewsp();\n        while (s4 !== peg$FAILED) {\n          s3.push(s4);\n          s4 = peg$parsewsp();\n        }\n        if (s3 !== peg$FAILED) {\n          peg$savedPos = s0;\n          s1 = peg$c0(s2);\n          s0 = s1;\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parsemoveTo_drawTo_commandGroups() {\n    var s0, s1, s2, s3, s4, s5;\n\n    s0 = peg$currPos;\n    s1 = peg$parsemoveTo_drawTo_commandGroup();\n    if (s1 !== peg$FAILED) {\n      s2 = [];\n      s3 = peg$currPos;\n      s4 = [];\n      s5 = peg$parsewsp();\n      while (s5 !== peg$FAILED) {\n        s4.push(s5);\n        s5 = peg$parsewsp();\n      }\n      if (s4 !== peg$FAILED) {\n        s5 = peg$parsemoveTo_drawTo_commandGroup();\n        if (s5 !== peg$FAILED) {\n          s4 = [s4, s5];\n          s3 = s4;\n        } else {\n          peg$currPos = s3;\n          s3 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s3;\n        s3 = peg$FAILED;\n      }\n      while (s3 !== peg$FAILED) {\n        s2.push(s3);\n        s3 = peg$currPos;\n        s4 = [];\n        s5 = peg$parsewsp();\n        while (s5 !== peg$FAILED) {\n          s4.push(s5);\n          s5 = peg$parsewsp();\n        }\n        if (s4 !== peg$FAILED) {\n          s5 = peg$parsemoveTo_drawTo_commandGroup();\n          if (s5 !== peg$FAILED) {\n            s4 = [s4, s5];\n            s3 = s4;\n          } else {\n            peg$currPos = s3;\n            s3 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s3;\n          s3 = peg$FAILED;\n        }\n      }\n      if (s2 !== peg$FAILED) {\n        peg$savedPos = s0;\n        s1 = peg$c1(s1, s2);\n        s0 = s1;\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parsemoveTo_drawTo_commandGroup() {\n    var s0, s1, s2, s3, s4, s5;\n\n    s0 = peg$currPos;\n    s1 = peg$parsemoveto();\n    if (s1 !== peg$FAILED) {\n      s2 = [];\n      s3 = peg$currPos;\n      s4 = [];\n      s5 = peg$parsewsp();\n      while (s5 !== peg$FAILED) {\n        s4.push(s5);\n        s5 = peg$parsewsp();\n      }\n      if (s4 !== peg$FAILED) {\n        s5 = peg$parsedrawto_command();\n        if (s5 !== peg$FAILED) {\n          s4 = [s4, s5];\n          s3 = s4;\n        } else {\n          peg$currPos = s3;\n          s3 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s3;\n        s3 = peg$FAILED;\n      }\n      while (s3 !== peg$FAILED) {\n        s2.push(s3);\n        s3 = peg$currPos;\n        s4 = [];\n        s5 = peg$parsewsp();\n        while (s5 !== peg$FAILED) {\n          s4.push(s5);\n          s5 = peg$parsewsp();\n        }\n        if (s4 !== peg$FAILED) {\n          s5 = peg$parsedrawto_command();\n          if (s5 !== peg$FAILED) {\n            s4 = [s4, s5];\n            s3 = s4;\n          } else {\n            peg$currPos = s3;\n            s3 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s3;\n          s3 = peg$FAILED;\n        }\n      }\n      if (s2 !== peg$FAILED) {\n        peg$savedPos = s0;\n        s1 = peg$c1(s1, s2);\n        s0 = s1;\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parsedrawto_command() {\n    var s0;\n\n    s0 = peg$parseclosepath();\n    if (s0 === peg$FAILED) {\n      s0 = peg$parselineto();\n      if (s0 === peg$FAILED) {\n        s0 = peg$parsehorizontal_lineto();\n        if (s0 === peg$FAILED) {\n          s0 = peg$parsevertical_lineto();\n          if (s0 === peg$FAILED) {\n            s0 = peg$parsecurveto();\n            if (s0 === peg$FAILED) {\n              s0 = peg$parsesmooth_curveto();\n              if (s0 === peg$FAILED) {\n                s0 = peg$parsequadratic_bezier_curveto();\n                if (s0 === peg$FAILED) {\n                  s0 = peg$parsesmooth_quadratic_bezier_curveto();\n                  if (s0 === peg$FAILED) {\n                    s0 = peg$parseelliptical_arc();\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n\n    return s0;\n  }\n\n  function peg$parsemoveto() {\n    var s0, s1, s2, s3, s4, s5, s6;\n\n    s0 = peg$currPos;\n    if (peg$c2.test(input.charAt(peg$currPos))) {\n      s1 = input.charAt(peg$currPos);\n      peg$currPos++;\n    } else {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c3); }\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = [];\n      s3 = peg$parsewsp();\n      while (s3 !== peg$FAILED) {\n        s2.push(s3);\n        s3 = peg$parsewsp();\n      }\n      if (s2 !== peg$FAILED) {\n        s3 = peg$parsecoordinate_pair();\n        if (s3 !== peg$FAILED) {\n          s4 = peg$currPos;\n          s5 = peg$parsecomma_wsp();\n          if (s5 === peg$FAILED) {\n            s5 = null;\n          }\n          if (s5 !== peg$FAILED) {\n            s6 = peg$parselineto_argument_sequence();\n            if (s6 !== peg$FAILED) {\n              s5 = [s5, s6];\n              s4 = s5;\n            } else {\n              peg$currPos = s4;\n              s4 = peg$FAILED;\n            }\n          } else {\n            peg$currPos = s4;\n            s4 = peg$FAILED;\n          }\n          if (s4 === peg$FAILED) {\n            s4 = null;\n          }\n          if (s4 !== peg$FAILED) {\n            peg$savedPos = s0;\n            s1 = peg$c4(s1, s3, s4);\n            s0 = s1;\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parseclosepath() {\n    var s0, s1;\n\n    s0 = peg$currPos;\n    if (peg$c5.test(input.charAt(peg$currPos))) {\n      s1 = input.charAt(peg$currPos);\n      peg$currPos++;\n    } else {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c6); }\n    }\n    if (s1 !== peg$FAILED) {\n      peg$savedPos = s0;\n      s1 = peg$c7();\n    }\n    s0 = s1;\n\n    return s0;\n  }\n\n  function peg$parselineto() {\n    var s0, s1, s2, s3;\n\n    s0 = peg$currPos;\n    if (peg$c8.test(input.charAt(peg$currPos))) {\n      s1 = input.charAt(peg$currPos);\n      peg$currPos++;\n    } else {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c9); }\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = [];\n      s3 = peg$parsewsp();\n      while (s3 !== peg$FAILED) {\n        s2.push(s3);\n        s3 = peg$parsewsp();\n      }\n      if (s2 !== peg$FAILED) {\n        s3 = peg$parselineto_argument_sequence();\n        if (s3 !== peg$FAILED) {\n          peg$savedPos = s0;\n          s1 = peg$c10(s1, s3);\n          s0 = s1;\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parselineto_argument_sequence() {\n    var s0, s1, s2, s3, s4, s5;\n\n    s0 = peg$currPos;\n    s1 = peg$parsecoordinate_pair();\n    if (s1 !== peg$FAILED) {\n      s2 = [];\n      s3 = peg$currPos;\n      s4 = peg$parsecomma_wsp();\n      if (s4 === peg$FAILED) {\n        s4 = null;\n      }\n      if (s4 !== peg$FAILED) {\n        s5 = peg$parsecoordinate_pair();\n        if (s5 !== peg$FAILED) {\n          s4 = [s4, s5];\n          s3 = s4;\n        } else {\n          peg$currPos = s3;\n          s3 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s3;\n        s3 = peg$FAILED;\n      }\n      while (s3 !== peg$FAILED) {\n        s2.push(s3);\n        s3 = peg$currPos;\n        s4 = peg$parsecomma_wsp();\n        if (s4 === peg$FAILED) {\n          s4 = null;\n        }\n        if (s4 !== peg$FAILED) {\n          s5 = peg$parsecoordinate_pair();\n          if (s5 !== peg$FAILED) {\n            s4 = [s4, s5];\n            s3 = s4;\n          } else {\n            peg$currPos = s3;\n            s3 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s3;\n          s3 = peg$FAILED;\n        }\n      }\n      if (s2 !== peg$FAILED) {\n        peg$savedPos = s0;\n        s1 = peg$c1(s1, s2);\n        s0 = s1;\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parsehorizontal_lineto() {\n    var s0, s1, s2, s3;\n\n    s0 = peg$currPos;\n    if (peg$c11.test(input.charAt(peg$currPos))) {\n      s1 = input.charAt(peg$currPos);\n      peg$currPos++;\n    } else {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c12); }\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = [];\n      s3 = peg$parsewsp();\n      while (s3 !== peg$FAILED) {\n        s2.push(s3);\n        s3 = peg$parsewsp();\n      }\n      if (s2 !== peg$FAILED) {\n        s3 = peg$parsecoordinate_sequence();\n        if (s3 !== peg$FAILED) {\n          peg$savedPos = s0;\n          s1 = peg$c13(s1, s3);\n          s0 = s1;\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parsecoordinate_sequence() {\n    var s0, s1, s2, s3, s4, s5;\n\n    s0 = peg$currPos;\n    s1 = peg$parsenumber();\n    if (s1 !== peg$FAILED) {\n      s2 = [];\n      s3 = peg$currPos;\n      s4 = peg$parsecomma_wsp();\n      if (s4 === peg$FAILED) {\n        s4 = null;\n      }\n      if (s4 !== peg$FAILED) {\n        s5 = peg$parsenumber();\n        if (s5 !== peg$FAILED) {\n          s4 = [s4, s5];\n          s3 = s4;\n        } else {\n          peg$currPos = s3;\n          s3 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s3;\n        s3 = peg$FAILED;\n      }\n      while (s3 !== peg$FAILED) {\n        s2.push(s3);\n        s3 = peg$currPos;\n        s4 = peg$parsecomma_wsp();\n        if (s4 === peg$FAILED) {\n          s4 = null;\n        }\n        if (s4 !== peg$FAILED) {\n          s5 = peg$parsenumber();\n          if (s5 !== peg$FAILED) {\n            s4 = [s4, s5];\n            s3 = s4;\n          } else {\n            peg$currPos = s3;\n            s3 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s3;\n          s3 = peg$FAILED;\n        }\n      }\n      if (s2 !== peg$FAILED) {\n        peg$savedPos = s0;\n        s1 = peg$c1(s1, s2);\n        s0 = s1;\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parsevertical_lineto() {\n    var s0, s1, s2, s3;\n\n    s0 = peg$currPos;\n    if (peg$c14.test(input.charAt(peg$currPos))) {\n      s1 = input.charAt(peg$currPos);\n      peg$currPos++;\n    } else {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c15); }\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = [];\n      s3 = peg$parsewsp();\n      while (s3 !== peg$FAILED) {\n        s2.push(s3);\n        s3 = peg$parsewsp();\n      }\n      if (s2 !== peg$FAILED) {\n        s3 = peg$parsecoordinate_sequence();\n        if (s3 !== peg$FAILED) {\n          peg$savedPos = s0;\n          s1 = peg$c16(s1, s3);\n          s0 = s1;\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parsecurveto() {\n    var s0, s1, s2, s3;\n\n    s0 = peg$currPos;\n    if (peg$c17.test(input.charAt(peg$currPos))) {\n      s1 = input.charAt(peg$currPos);\n      peg$currPos++;\n    } else {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c18); }\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = [];\n      s3 = peg$parsewsp();\n      while (s3 !== peg$FAILED) {\n        s2.push(s3);\n        s3 = peg$parsewsp();\n      }\n      if (s2 !== peg$FAILED) {\n        s3 = peg$parsecurveto_argument_sequence();\n        if (s3 !== peg$FAILED) {\n          peg$savedPos = s0;\n          s1 = peg$c10(s1, s3);\n          s0 = s1;\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parsecurveto_argument_sequence() {\n    var s0, s1, s2, s3, s4, s5;\n\n    s0 = peg$currPos;\n    s1 = peg$parsecurveto_argument();\n    if (s1 !== peg$FAILED) {\n      s2 = [];\n      s3 = peg$currPos;\n      s4 = peg$parsecomma_wsp();\n      if (s4 === peg$FAILED) {\n        s4 = null;\n      }\n      if (s4 !== peg$FAILED) {\n        s5 = peg$parsecurveto_argument();\n        if (s5 !== peg$FAILED) {\n          s4 = [s4, s5];\n          s3 = s4;\n        } else {\n          peg$currPos = s3;\n          s3 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s3;\n        s3 = peg$FAILED;\n      }\n      while (s3 !== peg$FAILED) {\n        s2.push(s3);\n        s3 = peg$currPos;\n        s4 = peg$parsecomma_wsp();\n        if (s4 === peg$FAILED) {\n          s4 = null;\n        }\n        if (s4 !== peg$FAILED) {\n          s5 = peg$parsecurveto_argument();\n          if (s5 !== peg$FAILED) {\n            s4 = [s4, s5];\n            s3 = s4;\n          } else {\n            peg$currPos = s3;\n            s3 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s3;\n          s3 = peg$FAILED;\n        }\n      }\n      if (s2 !== peg$FAILED) {\n        peg$savedPos = s0;\n        s1 = peg$c1(s1, s2);\n        s0 = s1;\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parsecurveto_argument() {\n    var s0, s1, s2, s3, s4, s5;\n\n    s0 = peg$currPos;\n    s1 = peg$parsecoordinate_pair();\n    if (s1 !== peg$FAILED) {\n      s2 = peg$parsecomma_wsp();\n      if (s2 === peg$FAILED) {\n        s2 = null;\n      }\n      if (s2 !== peg$FAILED) {\n        s3 = peg$parsecoordinate_pair();\n        if (s3 !== peg$FAILED) {\n          s4 = peg$parsecomma_wsp();\n          if (s4 === peg$FAILED) {\n            s4 = null;\n          }\n          if (s4 !== peg$FAILED) {\n            s5 = peg$parsecoordinate_pair();\n            if (s5 !== peg$FAILED) {\n              peg$savedPos = s0;\n              s1 = peg$c19(s1, s3, s5);\n              s0 = s1;\n            } else {\n              peg$currPos = s0;\n              s0 = peg$FAILED;\n            }\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parsesmooth_curveto() {\n    var s0, s1, s2, s3;\n\n    s0 = peg$currPos;\n    if (peg$c20.test(input.charAt(peg$currPos))) {\n      s1 = input.charAt(peg$currPos);\n      peg$currPos++;\n    } else {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c21); }\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = [];\n      s3 = peg$parsewsp();\n      while (s3 !== peg$FAILED) {\n        s2.push(s3);\n        s3 = peg$parsewsp();\n      }\n      if (s2 !== peg$FAILED) {\n        s3 = peg$parsesmooth_curveto_argument_sequence();\n        if (s3 !== peg$FAILED) {\n          peg$savedPos = s0;\n          s1 = peg$c10(s1, s3);\n          s0 = s1;\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parsesmooth_curveto_argument_sequence() {\n    var s0, s1, s2, s3, s4, s5;\n\n    s0 = peg$currPos;\n    s1 = peg$parsesmooth_curveto_argument();\n    if (s1 !== peg$FAILED) {\n      s2 = [];\n      s3 = peg$currPos;\n      s4 = peg$parsecomma_wsp();\n      if (s4 === peg$FAILED) {\n        s4 = null;\n      }\n      if (s4 !== peg$FAILED) {\n        s5 = peg$parsesmooth_curveto_argument();\n        if (s5 !== peg$FAILED) {\n          s4 = [s4, s5];\n          s3 = s4;\n        } else {\n          peg$currPos = s3;\n          s3 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s3;\n        s3 = peg$FAILED;\n      }\n      while (s3 !== peg$FAILED) {\n        s2.push(s3);\n        s3 = peg$currPos;\n        s4 = peg$parsecomma_wsp();\n        if (s4 === peg$FAILED) {\n          s4 = null;\n        }\n        if (s4 !== peg$FAILED) {\n          s5 = peg$parsesmooth_curveto_argument();\n          if (s5 !== peg$FAILED) {\n            s4 = [s4, s5];\n            s3 = s4;\n          } else {\n            peg$currPos = s3;\n            s3 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s3;\n          s3 = peg$FAILED;\n        }\n      }\n      if (s2 !== peg$FAILED) {\n        peg$savedPos = s0;\n        s1 = peg$c1(s1, s2);\n        s0 = s1;\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parsesmooth_curveto_argument() {\n    var s0, s1, s2, s3;\n\n    s0 = peg$currPos;\n    s1 = peg$parsecoordinate_pair();\n    if (s1 !== peg$FAILED) {\n      s2 = peg$parsecomma_wsp();\n      if (s2 === peg$FAILED) {\n        s2 = null;\n      }\n      if (s2 !== peg$FAILED) {\n        s3 = peg$parsecoordinate_pair();\n        if (s3 !== peg$FAILED) {\n          peg$savedPos = s0;\n          s1 = peg$c22(s1, s3);\n          s0 = s1;\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parsequadratic_bezier_curveto() {\n    var s0, s1, s2, s3;\n\n    s0 = peg$currPos;\n    if (peg$c23.test(input.charAt(peg$currPos))) {\n      s1 = input.charAt(peg$currPos);\n      peg$currPos++;\n    } else {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c24); }\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = [];\n      s3 = peg$parsewsp();\n      while (s3 !== peg$FAILED) {\n        s2.push(s3);\n        s3 = peg$parsewsp();\n      }\n      if (s2 !== peg$FAILED) {\n        s3 = peg$parsequadratic_bezier_curveto_argument_sequence();\n        if (s3 !== peg$FAILED) {\n          peg$savedPos = s0;\n          s1 = peg$c10(s1, s3);\n          s0 = s1;\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parsequadratic_bezier_curveto_argument_sequence() {\n    var s0, s1, s2, s3, s4, s5;\n\n    s0 = peg$currPos;\n    s1 = peg$parsequadratic_bezier_curveto_argument();\n    if (s1 !== peg$FAILED) {\n      s2 = [];\n      s3 = peg$currPos;\n      s4 = peg$parsecomma_wsp();\n      if (s4 === peg$FAILED) {\n        s4 = null;\n      }\n      if (s4 !== peg$FAILED) {\n        s5 = peg$parsequadratic_bezier_curveto_argument();\n        if (s5 !== peg$FAILED) {\n          s4 = [s4, s5];\n          s3 = s4;\n        } else {\n          peg$currPos = s3;\n          s3 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s3;\n        s3 = peg$FAILED;\n      }\n      while (s3 !== peg$FAILED) {\n        s2.push(s3);\n        s3 = peg$currPos;\n        s4 = peg$parsecomma_wsp();\n        if (s4 === peg$FAILED) {\n          s4 = null;\n        }\n        if (s4 !== peg$FAILED) {\n          s5 = peg$parsequadratic_bezier_curveto_argument();\n          if (s5 !== peg$FAILED) {\n            s4 = [s4, s5];\n            s3 = s4;\n          } else {\n            peg$currPos = s3;\n            s3 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s3;\n          s3 = peg$FAILED;\n        }\n      }\n      if (s2 !== peg$FAILED) {\n        peg$savedPos = s0;\n        s1 = peg$c1(s1, s2);\n        s0 = s1;\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parsequadratic_bezier_curveto_argument() {\n    var s0, s1, s2, s3;\n\n    s0 = peg$currPos;\n    s1 = peg$parsecoordinate_pair();\n    if (s1 !== peg$FAILED) {\n      s2 = peg$parsecomma_wsp();\n      if (s2 === peg$FAILED) {\n        s2 = null;\n      }\n      if (s2 !== peg$FAILED) {\n        s3 = peg$parsecoordinate_pair();\n        if (s3 !== peg$FAILED) {\n          peg$savedPos = s0;\n          s1 = peg$c25(s1, s3);\n          s0 = s1;\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parsesmooth_quadratic_bezier_curveto() {\n    var s0, s1, s2, s3;\n\n    s0 = peg$currPos;\n    if (peg$c26.test(input.charAt(peg$currPos))) {\n      s1 = input.charAt(peg$currPos);\n      peg$currPos++;\n    } else {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c27); }\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = [];\n      s3 = peg$parsewsp();\n      while (s3 !== peg$FAILED) {\n        s2.push(s3);\n        s3 = peg$parsewsp();\n      }\n      if (s2 !== peg$FAILED) {\n        s3 = peg$parsesmooth_quadratic_bezier_curveto_argument_sequence();\n        if (s3 !== peg$FAILED) {\n          peg$savedPos = s0;\n          s1 = peg$c10(s1, s3);\n          s0 = s1;\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parsesmooth_quadratic_bezier_curveto_argument_sequence() {\n    var s0, s1, s2, s3, s4, s5;\n\n    s0 = peg$currPos;\n    s1 = peg$parsecoordinate_pair();\n    if (s1 !== peg$FAILED) {\n      s2 = [];\n      s3 = peg$currPos;\n      s4 = peg$parsecomma_wsp();\n      if (s4 === peg$FAILED) {\n        s4 = null;\n      }\n      if (s4 !== peg$FAILED) {\n        s5 = peg$parsecoordinate_pair();\n        if (s5 !== peg$FAILED) {\n          s4 = [s4, s5];\n          s3 = s4;\n        } else {\n          peg$currPos = s3;\n          s3 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s3;\n        s3 = peg$FAILED;\n      }\n      while (s3 !== peg$FAILED) {\n        s2.push(s3);\n        s3 = peg$currPos;\n        s4 = peg$parsecomma_wsp();\n        if (s4 === peg$FAILED) {\n          s4 = null;\n        }\n        if (s4 !== peg$FAILED) {\n          s5 = peg$parsecoordinate_pair();\n          if (s5 !== peg$FAILED) {\n            s4 = [s4, s5];\n            s3 = s4;\n          } else {\n            peg$currPos = s3;\n            s3 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s3;\n          s3 = peg$FAILED;\n        }\n      }\n      if (s2 !== peg$FAILED) {\n        peg$savedPos = s0;\n        s1 = peg$c1(s1, s2);\n        s0 = s1;\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parseelliptical_arc() {\n    var s0, s1, s2, s3;\n\n    s0 = peg$currPos;\n    if (peg$c28.test(input.charAt(peg$currPos))) {\n      s1 = input.charAt(peg$currPos);\n      peg$currPos++;\n    } else {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c29); }\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = [];\n      s3 = peg$parsewsp();\n      while (s3 !== peg$FAILED) {\n        s2.push(s3);\n        s3 = peg$parsewsp();\n      }\n      if (s2 !== peg$FAILED) {\n        s3 = peg$parseelliptical_arc_argument_sequence();\n        if (s3 !== peg$FAILED) {\n          peg$savedPos = s0;\n          s1 = peg$c10(s1, s3);\n          s0 = s1;\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parseelliptical_arc_argument_sequence() {\n    var s0, s1, s2, s3, s4, s5;\n\n    s0 = peg$currPos;\n    s1 = peg$parseelliptical_arc_argument();\n    if (s1 !== peg$FAILED) {\n      s2 = [];\n      s3 = peg$currPos;\n      s4 = peg$parsecomma_wsp();\n      if (s4 === peg$FAILED) {\n        s4 = null;\n      }\n      if (s4 !== peg$FAILED) {\n        s5 = peg$parseelliptical_arc_argument();\n        if (s5 !== peg$FAILED) {\n          s4 = [s4, s5];\n          s3 = s4;\n        } else {\n          peg$currPos = s3;\n          s3 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s3;\n        s3 = peg$FAILED;\n      }\n      while (s3 !== peg$FAILED) {\n        s2.push(s3);\n        s3 = peg$currPos;\n        s4 = peg$parsecomma_wsp();\n        if (s4 === peg$FAILED) {\n          s4 = null;\n        }\n        if (s4 !== peg$FAILED) {\n          s5 = peg$parseelliptical_arc_argument();\n          if (s5 !== peg$FAILED) {\n            s4 = [s4, s5];\n            s3 = s4;\n          } else {\n            peg$currPos = s3;\n            s3 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s3;\n          s3 = peg$FAILED;\n        }\n      }\n      if (s2 !== peg$FAILED) {\n        peg$savedPos = s0;\n        s1 = peg$c1(s1, s2);\n        s0 = s1;\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parseelliptical_arc_argument() {\n    var s0, s1, s2, s3, s4, s5, s6, s7, s8, s9, s10, s11;\n\n    s0 = peg$currPos;\n    s1 = peg$parsenonnegative_number();\n    if (s1 !== peg$FAILED) {\n      s2 = peg$parsecomma_wsp();\n      if (s2 === peg$FAILED) {\n        s2 = null;\n      }\n      if (s2 !== peg$FAILED) {\n        s3 = peg$parsenonnegative_number();\n        if (s3 !== peg$FAILED) {\n          s4 = peg$parsecomma_wsp();\n          if (s4 === peg$FAILED) {\n            s4 = null;\n          }\n          if (s4 !== peg$FAILED) {\n            s5 = peg$parsenumber();\n            if (s5 !== peg$FAILED) {\n              s6 = peg$parsecomma_wsp();\n              if (s6 !== peg$FAILED) {\n                s7 = peg$parseflag();\n                if (s7 !== peg$FAILED) {\n                  s8 = peg$parsecomma_wsp();\n                  if (s8 === peg$FAILED) {\n                    s8 = null;\n                  }\n                  if (s8 !== peg$FAILED) {\n                    s9 = peg$parseflag();\n                    if (s9 !== peg$FAILED) {\n                      s10 = peg$parsecomma_wsp();\n                      if (s10 === peg$FAILED) {\n                        s10 = null;\n                      }\n                      if (s10 !== peg$FAILED) {\n                        s11 = peg$parsecoordinate_pair();\n                        if (s11 !== peg$FAILED) {\n                          peg$savedPos = s0;\n                          s1 = peg$c30(s1, s3, s5, s7, s9, s11);\n                          s0 = s1;\n                        } else {\n                          peg$currPos = s0;\n                          s0 = peg$FAILED;\n                        }\n                      } else {\n                        peg$currPos = s0;\n                        s0 = peg$FAILED;\n                      }\n                    } else {\n                      peg$currPos = s0;\n                      s0 = peg$FAILED;\n                    }\n                  } else {\n                    peg$currPos = s0;\n                    s0 = peg$FAILED;\n                  }\n                } else {\n                  peg$currPos = s0;\n                  s0 = peg$FAILED;\n                }\n              } else {\n                peg$currPos = s0;\n                s0 = peg$FAILED;\n              }\n            } else {\n              peg$currPos = s0;\n              s0 = peg$FAILED;\n            }\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parsecoordinate_pair() {\n    var s0, s1, s2, s3;\n\n    s0 = peg$currPos;\n    s1 = peg$parsenumber();\n    if (s1 !== peg$FAILED) {\n      s2 = peg$parsecomma_wsp();\n      if (s2 === peg$FAILED) {\n        s2 = null;\n      }\n      if (s2 !== peg$FAILED) {\n        s3 = peg$parsenumber();\n        if (s3 !== peg$FAILED) {\n          peg$savedPos = s0;\n          s1 = peg$c31(s1, s3);\n          s0 = s1;\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parsenonnegative_number() {\n    var s0, s1;\n\n    s0 = peg$currPos;\n    s1 = peg$parsefloating_point_constant();\n    if (s1 === peg$FAILED) {\n      s1 = peg$parsedigit_sequence();\n    }\n    if (s1 !== peg$FAILED) {\n      peg$savedPos = s0;\n      s1 = peg$c32(s1);\n    }\n    s0 = s1;\n\n    return s0;\n  }\n\n  function peg$parsenumber() {\n    var s0, s1, s2, s3;\n\n    s0 = peg$currPos;\n    s1 = peg$currPos;\n    s2 = peg$parsesign();\n    if (s2 === peg$FAILED) {\n      s2 = null;\n    }\n    if (s2 !== peg$FAILED) {\n      s3 = peg$parsefloating_point_constant();\n      if (s3 !== peg$FAILED) {\n        s2 = [s2, s3];\n        s1 = s2;\n      } else {\n        peg$currPos = s1;\n        s1 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s1;\n      s1 = peg$FAILED;\n    }\n    if (s1 === peg$FAILED) {\n      s1 = peg$currPos;\n      s2 = peg$parsesign();\n      if (s2 === peg$FAILED) {\n        s2 = null;\n      }\n      if (s2 !== peg$FAILED) {\n        s3 = peg$parsedigit_sequence();\n        if (s3 !== peg$FAILED) {\n          s2 = [s2, s3];\n          s1 = s2;\n        } else {\n          peg$currPos = s1;\n          s1 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s1;\n        s1 = peg$FAILED;\n      }\n    }\n    if (s1 !== peg$FAILED) {\n      peg$savedPos = s0;\n      s1 = peg$c33(s1);\n    }\n    s0 = s1;\n\n    return s0;\n  }\n\n  function peg$parseflag() {\n    var s0, s1;\n\n    s0 = peg$currPos;\n    if (peg$c34.test(input.charAt(peg$currPos))) {\n      s1 = input.charAt(peg$currPos);\n      peg$currPos++;\n    } else {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c35); }\n    }\n    if (s1 !== peg$FAILED) {\n      peg$savedPos = s0;\n      s1 = peg$c36(s1);\n    }\n    s0 = s1;\n\n    return s0;\n  }\n\n  function peg$parsecomma_wsp() {\n    var s0, s1, s2, s3, s4;\n\n    s0 = peg$currPos;\n    s1 = [];\n    s2 = peg$parsewsp();\n    if (s2 !== peg$FAILED) {\n      while (s2 !== peg$FAILED) {\n        s1.push(s2);\n        s2 = peg$parsewsp();\n      }\n    } else {\n      s1 = peg$FAILED;\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = peg$parsecomma();\n      if (s2 === peg$FAILED) {\n        s2 = null;\n      }\n      if (s2 !== peg$FAILED) {\n        s3 = [];\n        s4 = peg$parsewsp();\n        while (s4 !== peg$FAILED) {\n          s3.push(s4);\n          s4 = peg$parsewsp();\n        }\n        if (s3 !== peg$FAILED) {\n          s1 = [s1, s2, s3];\n          s0 = s1;\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n    if (s0 === peg$FAILED) {\n      s0 = peg$currPos;\n      s1 = peg$currPos;\n      s2 = peg$parsecomma();\n      if (s2 !== peg$FAILED) {\n        s3 = [];\n        s4 = peg$parsewsp();\n        while (s4 !== peg$FAILED) {\n          s3.push(s4);\n          s4 = peg$parsewsp();\n        }\n        if (s3 !== peg$FAILED) {\n          s2 = [s2, s3];\n          s1 = s2;\n        } else {\n          peg$currPos = s1;\n          s1 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s1;\n        s1 = peg$FAILED;\n      }\n      if (s1 !== peg$FAILED) {\n        peg$savedPos = s0;\n        s1 = peg$c37();\n      }\n      s0 = s1;\n    }\n\n    return s0;\n  }\n\n  function peg$parsecomma() {\n    var s0;\n\n    if (input.charCodeAt(peg$currPos) === 44) {\n      s0 = peg$c38;\n      peg$currPos++;\n    } else {\n      s0 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c39); }\n    }\n\n    return s0;\n  }\n\n  function peg$parsefloating_point_constant() {\n    var s0, s1, s2, s3;\n\n    s0 = peg$currPos;\n    s1 = peg$currPos;\n    s2 = peg$parsefractional_constant();\n    if (s2 !== peg$FAILED) {\n      s3 = peg$parseexponent();\n      if (s3 === peg$FAILED) {\n        s3 = null;\n      }\n      if (s3 !== peg$FAILED) {\n        s2 = [s2, s3];\n        s1 = s2;\n      } else {\n        peg$currPos = s1;\n        s1 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s1;\n      s1 = peg$FAILED;\n    }\n    if (s1 === peg$FAILED) {\n      s1 = peg$currPos;\n      s2 = peg$parsedigit_sequence();\n      if (s2 !== peg$FAILED) {\n        s3 = peg$parseexponent();\n        if (s3 !== peg$FAILED) {\n          s2 = [s2, s3];\n          s1 = s2;\n        } else {\n          peg$currPos = s1;\n          s1 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s1;\n        s1 = peg$FAILED;\n      }\n    }\n    if (s1 !== peg$FAILED) {\n      peg$savedPos = s0;\n      s1 = peg$c40(s1);\n    }\n    s0 = s1;\n\n    return s0;\n  }\n\n  function peg$parsefractional_constant() {\n    var s0, s1, s2, s3, s4;\n\n    s0 = peg$currPos;\n    s1 = peg$currPos;\n    s2 = peg$parsedigit_sequence();\n    if (s2 === peg$FAILED) {\n      s2 = null;\n    }\n    if (s2 !== peg$FAILED) {\n      if (input.charCodeAt(peg$currPos) === 46) {\n        s3 = peg$c41;\n        peg$currPos++;\n      } else {\n        s3 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c42); }\n      }\n      if (s3 !== peg$FAILED) {\n        s4 = peg$parsedigit_sequence();\n        if (s4 !== peg$FAILED) {\n          s2 = [s2, s3, s4];\n          s1 = s2;\n        } else {\n          peg$currPos = s1;\n          s1 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s1;\n        s1 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s1;\n      s1 = peg$FAILED;\n    }\n    if (s1 === peg$FAILED) {\n      s1 = peg$currPos;\n      s2 = peg$parsedigit_sequence();\n      if (s2 !== peg$FAILED) {\n        if (input.charCodeAt(peg$currPos) === 46) {\n          s3 = peg$c41;\n          peg$currPos++;\n        } else {\n          s3 = peg$FAILED;\n          if (peg$silentFails === 0) { peg$fail(peg$c42); }\n        }\n        if (s3 !== peg$FAILED) {\n          s2 = [s2, s3];\n          s1 = s2;\n        } else {\n          peg$currPos = s1;\n          s1 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s1;\n        s1 = peg$FAILED;\n      }\n    }\n    if (s1 !== peg$FAILED) {\n      peg$savedPos = s0;\n      s1 = peg$c40(s1);\n    }\n    s0 = s1;\n\n    return s0;\n  }\n\n  function peg$parseexponent() {\n    var s0, s1, s2, s3, s4;\n\n    s0 = peg$currPos;\n    s1 = peg$currPos;\n    if (peg$c43.test(input.charAt(peg$currPos))) {\n      s2 = input.charAt(peg$currPos);\n      peg$currPos++;\n    } else {\n      s2 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c44); }\n    }\n    if (s2 !== peg$FAILED) {\n      s3 = peg$parsesign();\n      if (s3 === peg$FAILED) {\n        s3 = null;\n      }\n      if (s3 !== peg$FAILED) {\n        s4 = peg$parsedigit_sequence();\n        if (s4 !== peg$FAILED) {\n          s2 = [s2, s3, s4];\n          s1 = s2;\n        } else {\n          peg$currPos = s1;\n          s1 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s1;\n        s1 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s1;\n      s1 = peg$FAILED;\n    }\n    if (s1 !== peg$FAILED) {\n      peg$savedPos = s0;\n      s1 = peg$c40(s1);\n    }\n    s0 = s1;\n\n    return s0;\n  }\n\n  function peg$parsesign() {\n    var s0;\n\n    if (peg$c45.test(input.charAt(peg$currPos))) {\n      s0 = input.charAt(peg$currPos);\n      peg$currPos++;\n    } else {\n      s0 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c46); }\n    }\n\n    return s0;\n  }\n\n  function peg$parsedigit_sequence() {\n    var s0, s1, s2;\n\n    s0 = peg$currPos;\n    s1 = [];\n    if (peg$c47.test(input.charAt(peg$currPos))) {\n      s2 = input.charAt(peg$currPos);\n      peg$currPos++;\n    } else {\n      s2 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c48); }\n    }\n    if (s2 !== peg$FAILED) {\n      while (s2 !== peg$FAILED) {\n        s1.push(s2);\n        if (peg$c47.test(input.charAt(peg$currPos))) {\n          s2 = input.charAt(peg$currPos);\n          peg$currPos++;\n        } else {\n          s2 = peg$FAILED;\n          if (peg$silentFails === 0) { peg$fail(peg$c48); }\n        }\n      }\n    } else {\n      s1 = peg$FAILED;\n    }\n    if (s1 !== peg$FAILED) {\n      peg$savedPos = s0;\n      s1 = peg$c49(s1);\n    }\n    s0 = s1;\n\n    return s0;\n  }\n\n  function peg$parsewsp() {\n    var s0, s1;\n\n    s0 = peg$currPos;\n    if (peg$c50.test(input.charAt(peg$currPos))) {\n      s1 = input.charAt(peg$currPos);\n      peg$currPos++;\n    } else {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c51); }\n    }\n    if (s1 !== peg$FAILED) {\n      peg$savedPos = s0;\n      s1 = peg$c37();\n    }\n    s0 = s1;\n\n    return s0;\n  }\n\n\n    function merge(first,more){\n      if (!more) return [first];\n      for (var a=[first],i=0,l=more.length;i<l;i++) a[i+1]=more[i][1];\n      return a;\n    }\n\n    var cmds = {m:'moveto',l:'lineto',h:'horizontal lineto',v:'vertical lineto',c:'curveto',s:'smooth curveto',q:'quadratic curveto',t:'smooth quadratic curveto',a:'elliptical arc',z:'closepath'};\n    for (var code in cmds) cmds[code.toUpperCase()]=cmds[code];\n    function commands(code,args){\n      if (!args) args=[{}];\n      for (var i=args.length;i--;){\n        var cmd={code:code,command:cmds[code]};\n        if (code==code.toLowerCase()) cmd.relative=true;\n        for (var k in args[i]) cmd[k]=args[i][k];\n        args[i] = cmd;\n      }\n      return args;\n    }\n\n\n  peg$result = peg$startRuleFunction();\n\n  if (peg$result !== peg$FAILED && peg$currPos === input.length) {\n    return peg$result;\n  } else {\n    if (peg$result !== peg$FAILED && peg$currPos < input.length) {\n      peg$fail(peg$endExpectation());\n    }\n\n    throw peg$buildStructuredError(\n      peg$maxFailExpected,\n      peg$maxFailPos < input.length ? input.charAt(peg$maxFailPos) : null,\n      peg$maxFailPos < input.length\n        ? peg$computeLocation(peg$maxFailPos, peg$maxFailPos + 1)\n        : peg$computeLocation(peg$maxFailPos, peg$maxFailPos)\n    );\n  }\n}\n\nmodule.exports = {\n  SyntaxError: peg$SyntaxError,\n  parse:       peg$parse\n};\n","// v1.0 exported just the parser function. To maintain backwards compatibility,\n// we export additional named features as properties of that function.\nvar parserFunction = require('./parser.js').parse;\nparserFunction.parseSVG = parserFunction;\nparserFunction.makeAbsolute = makeSVGPathCommandsAbsolute;\nmodule.exports = parserFunction;\n\nfunction makeSVGPathCommandsAbsolute(commands) {\n\tvar subpathStart, prevCmd={x:0,y:0};\n\tvar attr = {x:'x0',y:'y0',x1:'x0',y1:'y0',x2:'x0',y2:'y0'};\n\tcommands.forEach(function(cmd) {\n\t\tif (cmd.command==='moveto') subpathStart=cmd;\n\t\tcmd.x0=prevCmd.x; cmd.y0=prevCmd.y;\n\t\tfor (var a in attr) if (a in cmd) cmd[a] += cmd.relative ? cmd[attr[a]] : 0;\n\t\tif (!('x' in cmd)) cmd.x = prevCmd.x; // V\n\t\tif (!('y' in cmd)) cmd.y = prevCmd.y; // X\n\t\tcmd.relative = false;\n\t\tcmd.code = cmd.code.toUpperCase();\n\t\tif (cmd.command=='closepath') {\n\t\t\tcmd.x = subpathStart.x;\n\t\t\tcmd.y = subpathStart.y;\n\t\t}\n\t\tprevCmd = cmd;\n\t});\n\treturn commands;\n}\n","(function() {\n  \"use strict\";\n\n  // math-inlining.\n  var abs = Math.abs,\n    cos = Math.cos,\n    sin = Math.sin,\n    acos = Math.acos,\n    atan2 = Math.atan2,\n    sqrt = Math.sqrt,\n    pow = Math.pow,\n    // cube root function yielding real roots\n    crt = function(v) {\n      return v < 0 ? -pow(-v, 1 / 3) : pow(v, 1 / 3);\n    },\n    // trig constants\n    pi = Math.PI,\n    tau = 2 * pi,\n    quart = pi / 2,\n    // float precision significant decimal\n    epsilon = 0.000001,\n    // extremas used in bbox calculation and similar algorithms\n    nMax = Number.MAX_SAFE_INTEGER || 9007199254740991,\n    nMin = Number.MIN_SAFE_INTEGER || -9007199254740991,\n    // a zero coordinate, which is surprisingly useful\n    ZERO = { x: 0, y: 0, z: 0 };\n\n  // Bezier utility functions\n  var utils = {\n    // Legendre-Gauss abscissae with n=24 (x_i values, defined at i=n as the roots of the nth order Legendre polynomial Pn(x))\n    Tvalues: [\n      -0.0640568928626056260850430826247450385909,\n      0.0640568928626056260850430826247450385909,\n      -0.1911188674736163091586398207570696318404,\n      0.1911188674736163091586398207570696318404,\n      -0.3150426796961633743867932913198102407864,\n      0.3150426796961633743867932913198102407864,\n      -0.4337935076260451384870842319133497124524,\n      0.4337935076260451384870842319133497124524,\n      -0.5454214713888395356583756172183723700107,\n      0.5454214713888395356583756172183723700107,\n      -0.6480936519369755692524957869107476266696,\n      0.6480936519369755692524957869107476266696,\n      -0.7401241915785543642438281030999784255232,\n      0.7401241915785543642438281030999784255232,\n      -0.8200019859739029219539498726697452080761,\n      0.8200019859739029219539498726697452080761,\n      -0.8864155270044010342131543419821967550873,\n      0.8864155270044010342131543419821967550873,\n      -0.9382745520027327585236490017087214496548,\n      0.9382745520027327585236490017087214496548,\n      -0.9747285559713094981983919930081690617411,\n      0.9747285559713094981983919930081690617411,\n      -0.9951872199970213601799974097007368118745,\n      0.9951872199970213601799974097007368118745\n    ],\n\n    // Legendre-Gauss weights with n=24 (w_i values, defined by a function linked to in the Bezier primer article)\n    Cvalues: [\n      0.1279381953467521569740561652246953718517,\n      0.1279381953467521569740561652246953718517,\n      0.1258374563468282961213753825111836887264,\n      0.1258374563468282961213753825111836887264,\n      0.121670472927803391204463153476262425607,\n      0.121670472927803391204463153476262425607,\n      0.1155056680537256013533444839067835598622,\n      0.1155056680537256013533444839067835598622,\n      0.1074442701159656347825773424466062227946,\n      0.1074442701159656347825773424466062227946,\n      0.0976186521041138882698806644642471544279,\n      0.0976186521041138882698806644642471544279,\n      0.086190161531953275917185202983742667185,\n      0.086190161531953275917185202983742667185,\n      0.0733464814110803057340336152531165181193,\n      0.0733464814110803057340336152531165181193,\n      0.0592985849154367807463677585001085845412,\n      0.0592985849154367807463677585001085845412,\n      0.0442774388174198061686027482113382288593,\n      0.0442774388174198061686027482113382288593,\n      0.0285313886289336631813078159518782864491,\n      0.0285313886289336631813078159518782864491,\n      0.0123412297999871995468056670700372915759,\n      0.0123412297999871995468056670700372915759\n    ],\n\n    arcfn: function(t, derivativeFn) {\n      var d = derivativeFn(t);\n      var l = d.x * d.x + d.y * d.y;\n      if (typeof d.z !== \"undefined\") {\n        l += d.z * d.z;\n      }\n      return sqrt(l);\n    },\n\n    compute: function(t, points, _3d) {\n      // shortcuts\n      if (t === 0) {\n        return points[0];\n      }\n\n      var order = points.length-1;\n\n      if (t === 1) {\n        return points[order];\n      }\n\n      var p = points;\n      var mt = 1 - t;\n\n      // constant?\n      if (order === 0) {\n        return points[0];\n      }\n\n      // linear?\n      if (order === 1) {\n        ret = {\n          x: mt * p[0].x + t * p[1].x,\n          y: mt * p[0].y + t * p[1].y\n        };\n        if (_3d) {\n          ret.z = mt * p[0].z + t * p[1].z;\n        }\n        return ret;\n      }\n\n      // quadratic/cubic curve?\n      if (order < 4) {\n        var mt2 = mt * mt,\n          t2 = t * t,\n          a,\n          b,\n          c,\n          d = 0;\n        if (order === 2) {\n          p = [p[0], p[1], p[2], ZERO];\n          a = mt2;\n          b = mt * t * 2;\n          c = t2;\n        } else if (order === 3) {\n          a = mt2 * mt;\n          b = mt2 * t * 3;\n          c = mt * t2 * 3;\n          d = t * t2;\n        }\n        var ret = {\n          x: a * p[0].x + b * p[1].x + c * p[2].x + d * p[3].x,\n          y: a * p[0].y + b * p[1].y + c * p[2].y + d * p[3].y\n        };\n        if (_3d) {\n          ret.z = a * p[0].z + b * p[1].z + c * p[2].z + d * p[3].z;\n        }\n        return ret;\n      }\n\n      // higher order curves: use de Casteljau's computation\n      var dCpts = JSON.parse(JSON.stringify(points));\n      while (dCpts.length > 1) {\n        for (var i = 0; i < dCpts.length - 1; i++) {\n          dCpts[i] = {\n            x: dCpts[i].x + (dCpts[i + 1].x - dCpts[i].x) * t,\n            y: dCpts[i].y + (dCpts[i + 1].y - dCpts[i].y) * t\n          };\n          if (typeof dCpts[i].z !== \"undefined\") {\n            dCpts[i] = dCpts[i].z + (dCpts[i + 1].z - dCpts[i].z) * t;\n          }\n        }\n        dCpts.splice(dCpts.length - 1, 1);\n      }\n      return dCpts[0];\n    },\n\n    computeWithRatios: function (t, points, ratios, _3d) {\n      var mt = 1 - t, r = ratios, p = points, d;\n      var f1 = r[0], f2 = r[1], f3 = r[2], f4 = r[3];\n\n      // spec for linear\n      f1 *= mt;\n      f2 *= t;\n\n      if (p.length === 2) {\n        d = f1 + f2;\n        return {\n          x: (f1 * p[0].x + f2 * p[1].x)/d,\n          y: (f1 * p[0].y + f2 * p[1].y)/d,\n          z: !_3d ? false : (f1 * p[0].z + f2 * p[1].z)/d\n        };\n      }\n\n      // upgrade to quadratic\n      f1 *= mt;\n      f2 *= 2 * mt;\n      f3 *= t * t;\n\n      if (p.length === 3) {\n        d = f1 + f2 + f3;\n        return {\n          x: (f1 * p[0].x + f2 * p[1].x + f3 * p[2].x)/d,\n          y: (f1 * p[0].y + f2 * p[1].y + f3 * p[2].y)/d,\n          z: !_3d ? false : (f1 * p[0].z + f2 * p[1].z + f3 * p[2].z)/d\n        };\n      }\n\n      // upgrade to cubic\n      f1 *= mt;\n      f2 *= 1.5 * mt;\n      f3 *= 3 * mt;\n      f4 *= t * t * t;\n\n      if (p.length === 4) {\n        d = f1 + f2 + f3 + f4;\n        return {\n          x: (f1 * p[0].x + f2 * p[1].x + f3 * p[2].x + f4 * p[3].x)/d,\n          y: (f1 * p[0].y + f2 * p[1].y + f3 * p[2].y + f4 * p[3].y)/d,\n          z: !_3d ? false : (f1 * p[0].z + f2 * p[1].z + f3 * p[2].z + f4 * p[3].z)/d\n        };\n      }\n    },\n\n    derive: function (points, _3d) {\n      var dpoints = [];\n      for (var p = points, d = p.length, c = d - 1; d > 1; d--, c--) {\n        var list = [];\n        for (var j = 0, dpt; j < c; j++) {\n          dpt = {\n            x: c * (p[j + 1].x - p[j].x),\n            y: c * (p[j + 1].y - p[j].y)\n          };\n          if (_3d) {\n            dpt.z = c * (p[j + 1].z - p[j].z);\n          }\n          list.push(dpt);\n        }\n        dpoints.push(list);\n        p = list;\n      }\n      return dpoints;\n    },\n\n    between: function(v, m, M) {\n      return (\n        (m <= v && v <= M) ||\n        utils.approximately(v, m) ||\n        utils.approximately(v, M)\n      );\n    },\n\n    approximately: function(a, b, precision) {\n      return abs(a - b) <= (precision || epsilon);\n    },\n\n    length: function(derivativeFn) {\n      var z = 0.5,\n        sum = 0,\n        len = utils.Tvalues.length,\n        i,\n        t;\n      for (i = 0; i < len; i++) {\n        t = z * utils.Tvalues[i] + z;\n        sum += utils.Cvalues[i] * utils.arcfn(t, derivativeFn);\n      }\n      return z * sum;\n    },\n\n    map: function(v, ds, de, ts, te) {\n      var d1 = de - ds,\n        d2 = te - ts,\n        v2 = v - ds,\n        r = v2 / d1;\n      return ts + d2 * r;\n    },\n\n    lerp: function(r, v1, v2) {\n      var ret = {\n        x: v1.x + r * (v2.x - v1.x),\n        y: v1.y + r * (v2.y - v1.y)\n      };\n      if (!!v1.z && !!v2.z) {\n        ret.z = v1.z + r * (v2.z - v1.z);\n      }\n      return ret;\n    },\n\n    pointToString: function(p) {\n      var s = p.x + \"/\" + p.y;\n      if (typeof p.z !== \"undefined\") {\n        s += \"/\" + p.z;\n      }\n      return s;\n    },\n\n    pointsToString: function(points) {\n      return \"[\" + points.map(utils.pointToString).join(\", \") + \"]\";\n    },\n\n    copy: function(obj) {\n      return JSON.parse(JSON.stringify(obj));\n    },\n\n    angle: function(o, v1, v2) {\n      var dx1 = v1.x - o.x,\n        dy1 = v1.y - o.y,\n        dx2 = v2.x - o.x,\n        dy2 = v2.y - o.y,\n        cross = dx1 * dy2 - dy1 * dx2,\n        dot = dx1 * dx2 + dy1 * dy2;\n      return atan2(cross, dot);\n    },\n\n    // round as string, to avoid rounding errors\n    round: function(v, d) {\n      var s = \"\" + v;\n      var pos = s.indexOf(\".\");\n      return parseFloat(s.substring(0, pos + 1 + d));\n    },\n\n    dist: function(p1, p2) {\n      var dx = p1.x - p2.x,\n        dy = p1.y - p2.y;\n      return sqrt(dx * dx + dy * dy);\n    },\n\n    closest: function(LUT, point) {\n      var mdist = pow(2, 63),\n        mpos,\n        d;\n      LUT.forEach(function(p, idx) {\n        d = utils.dist(point, p);\n        if (d < mdist) {\n          mdist = d;\n          mpos = idx;\n        }\n      });\n      return { mdist: mdist, mpos: mpos };\n    },\n\n    abcratio: function(t, n) {\n      // see ratio(t) note on http://pomax.github.io/bezierinfo/#abc\n      if (n !== 2 && n !== 3) {\n        return false;\n      }\n      if (typeof t === \"undefined\") {\n        t = 0.5;\n      } else if (t === 0 || t === 1) {\n        return t;\n      }\n      var bottom = pow(t, n) + pow(1 - t, n),\n        top = bottom - 1;\n      return abs(top / bottom);\n    },\n\n    projectionratio: function(t, n) {\n      // see u(t) note on http://pomax.github.io/bezierinfo/#abc\n      if (n !== 2 && n !== 3) {\n        return false;\n      }\n      if (typeof t === \"undefined\") {\n        t = 0.5;\n      } else if (t === 0 || t === 1) {\n        return t;\n      }\n      var top = pow(1 - t, n),\n        bottom = pow(t, n) + top;\n      return top / bottom;\n    },\n\n    lli8: function(x1, y1, x2, y2, x3, y3, x4, y4) {\n      var nx =\n          (x1 * y2 - y1 * x2) * (x3 - x4) - (x1 - x2) * (x3 * y4 - y3 * x4),\n        ny = (x1 * y2 - y1 * x2) * (y3 - y4) - (y1 - y2) * (x3 * y4 - y3 * x4),\n        d = (x1 - x2) * (y3 - y4) - (y1 - y2) * (x3 - x4);\n      if (d == 0) {\n        return false;\n      }\n      return { x: nx / d, y: ny / d };\n    },\n\n    lli4: function(p1, p2, p3, p4) {\n      var x1 = p1.x,\n        y1 = p1.y,\n        x2 = p2.x,\n        y2 = p2.y,\n        x3 = p3.x,\n        y3 = p3.y,\n        x4 = p4.x,\n        y4 = p4.y;\n      return utils.lli8(x1, y1, x2, y2, x3, y3, x4, y4);\n    },\n\n    lli: function(v1, v2) {\n      return utils.lli4(v1, v1.c, v2, v2.c);\n    },\n\n    makeline: function(p1, p2) {\n      var Bezier = require(\"./bezier\");\n      var x1 = p1.x,\n        y1 = p1.y,\n        x2 = p2.x,\n        y2 = p2.y,\n        dx = (x2 - x1) / 3,\n        dy = (y2 - y1) / 3;\n      return new Bezier(\n        x1,\n        y1,\n        x1 + dx,\n        y1 + dy,\n        x1 + 2 * dx,\n        y1 + 2 * dy,\n        x2,\n        y2\n      );\n    },\n\n    findbbox: function(sections) {\n      var mx = nMax,\n        my = nMax,\n        MX = nMin,\n        MY = nMin;\n      sections.forEach(function(s) {\n        var bbox = s.bbox();\n        if (mx > bbox.x.min) mx = bbox.x.min;\n        if (my > bbox.y.min) my = bbox.y.min;\n        if (MX < bbox.x.max) MX = bbox.x.max;\n        if (MY < bbox.y.max) MY = bbox.y.max;\n      });\n      return {\n        x: { min: mx, mid: (mx + MX) / 2, max: MX, size: MX - mx },\n        y: { min: my, mid: (my + MY) / 2, max: MY, size: MY - my }\n      };\n    },\n\n    shapeintersections: function(\n      s1,\n      bbox1,\n      s2,\n      bbox2,\n      curveIntersectionThreshold\n    ) {\n      if (!utils.bboxoverlap(bbox1, bbox2)) return [];\n      var intersections = [];\n      var a1 = [s1.startcap, s1.forward, s1.back, s1.endcap];\n      var a2 = [s2.startcap, s2.forward, s2.back, s2.endcap];\n      a1.forEach(function(l1) {\n        if (l1.virtual) return;\n        a2.forEach(function(l2) {\n          if (l2.virtual) return;\n          var iss = l1.intersects(l2, curveIntersectionThreshold);\n          if (iss.length > 0) {\n            iss.c1 = l1;\n            iss.c2 = l2;\n            iss.s1 = s1;\n            iss.s2 = s2;\n            intersections.push(iss);\n          }\n        });\n      });\n      return intersections;\n    },\n\n    makeshape: function(forward, back, curveIntersectionThreshold) {\n      var bpl = back.points.length;\n      var fpl = forward.points.length;\n      var start = utils.makeline(back.points[bpl - 1], forward.points[0]);\n      var end = utils.makeline(forward.points[fpl - 1], back.points[0]);\n      var shape = {\n        startcap: start,\n        forward: forward,\n        back: back,\n        endcap: end,\n        bbox: utils.findbbox([start, forward, back, end])\n      };\n      var self = utils;\n      shape.intersections = function(s2) {\n        return self.shapeintersections(\n          shape,\n          shape.bbox,\n          s2,\n          s2.bbox,\n          curveIntersectionThreshold\n        );\n      };\n      return shape;\n    },\n\n    getminmax: function(curve, d, list) {\n      if (!list) return { min: 0, max: 0 };\n      var min = nMax,\n        max = nMin,\n        t,\n        c;\n      if (list.indexOf(0) === -1) {\n        list = [0].concat(list);\n      }\n      if (list.indexOf(1) === -1) {\n        list.push(1);\n      }\n      for (var i = 0, len = list.length; i < len; i++) {\n        t = list[i];\n        c = curve.get(t);\n        if (c[d] < min) {\n          min = c[d];\n        }\n        if (c[d] > max) {\n          max = c[d];\n        }\n      }\n      return { min: min, mid: (min + max) / 2, max: max, size: max - min };\n    },\n\n    align: function(points, line) {\n      var tx = line.p1.x,\n        ty = line.p1.y,\n        a = -atan2(line.p2.y - ty, line.p2.x - tx),\n        d = function(v) {\n          return {\n            x: (v.x - tx) * cos(a) - (v.y - ty) * sin(a),\n            y: (v.x - tx) * sin(a) + (v.y - ty) * cos(a)\n          };\n        };\n      return points.map(d);\n    },\n\n    roots: function(points, line) {\n      line = line || { p1: { x: 0, y: 0 }, p2: { x: 1, y: 0 } };\n      var order = points.length - 1;\n      var p = utils.align(points, line);\n      var reduce = function(t) {\n        return 0 <= t && t <= 1;\n      };\n\n      if (order === 2) {\n        var a = p[0].y,\n          b = p[1].y,\n          c = p[2].y,\n          d = a - 2 * b + c;\n        if (d !== 0) {\n          var m1 = -sqrt(b * b - a * c),\n            m2 = -a + b,\n            v1 = -(m1 + m2) / d,\n            v2 = -(-m1 + m2) / d;\n          return [v1, v2].filter(reduce);\n        } else if (b !== c && d === 0) {\n          return [(2*b - c)/(2*b - 2*c)].filter(reduce);\n        }\n        return [];\n      }\n\n      // see http://www.trans4mind.com/personal_development/mathematics/polynomials/cubicAlgebra.htm\n      var pa = p[0].y,\n        pb = p[1].y,\n        pc = p[2].y,\n        pd = p[3].y,\n        d = -pa + 3 * pb - 3 * pc + pd,\n        a = 3 * pa - 6 * pb + 3 * pc,\n        b = -3 * pa + 3 * pb,\n        c = pa;\n\n      if (utils.approximately(d, 0)) {\n        // this is not a cubic curve.\n        if (utils.approximately(a, 0)) {\n          // in fact, this is not a quadratic curve either.\n          if (utils.approximately(b, 0)) {\n            // in fact in fact, there are no solutions.\n            return [];\n          }\n          // linear solution:\n          return [-c / b].filter(reduce);\n        }\n        // quadratic solution:\n        var q = sqrt(b * b - 4 * a * c),\n          a2 = 2 * a;\n        return [(q - b) / a2, (-b - q) / a2].filter(reduce);\n      }\n\n      // at this point, we know we need a cubic solution:\n\n      a /= d;\n      b /= d;\n      c /= d;\n\n      var p = (3 * b - a * a) / 3,\n        p3 = p / 3,\n        q = (2 * a * a * a - 9 * a * b + 27 * c) / 27,\n        q2 = q / 2,\n        discriminant = q2 * q2 + p3 * p3 * p3,\n        u1,\n        v1,\n        x1,\n        x2,\n        x3;\n      if (discriminant < 0) {\n        var mp3 = -p / 3,\n          mp33 = mp3 * mp3 * mp3,\n          r = sqrt(mp33),\n          t = -q / (2 * r),\n          cosphi = t < -1 ? -1 : t > 1 ? 1 : t,\n          phi = acos(cosphi),\n          crtr = crt(r),\n          t1 = 2 * crtr;\n        x1 = t1 * cos(phi / 3) - a / 3;\n        x2 = t1 * cos((phi + tau) / 3) - a / 3;\n        x3 = t1 * cos((phi + 2 * tau) / 3) - a / 3;\n        return [x1, x2, x3].filter(reduce);\n      } else if (discriminant === 0) {\n        u1 = q2 < 0 ? crt(-q2) : -crt(q2);\n        x1 = 2 * u1 - a / 3;\n        x2 = -u1 - a / 3;\n        return [x1, x2].filter(reduce);\n      } else {\n        var sd = sqrt(discriminant);\n        u1 = crt(-q2 + sd);\n        v1 = crt(q2 + sd);\n        return [u1 - v1 - a / 3].filter(reduce);\n      }\n    },\n\n    droots: function(p) {\n      // quadratic roots are easy\n      if (p.length === 3) {\n        var a = p[0],\n          b = p[1],\n          c = p[2],\n          d = a - 2 * b + c;\n        if (d !== 0) {\n          var m1 = -sqrt(b * b - a * c),\n            m2 = -a + b,\n            v1 = -(m1 + m2) / d,\n            v2 = -(-m1 + m2) / d;\n          return [v1, v2];\n        } else if (b !== c && d === 0) {\n          return [(2 * b - c) / (2 * (b - c))];\n        }\n        return [];\n      }\n\n      // linear roots are even easier\n      if (p.length === 2) {\n        var a = p[0],\n          b = p[1];\n        if (a !== b) {\n          return [a / (a - b)];\n        }\n        return [];\n      }\n    },\n\n    curvature: function(t, points, _3d, kOnly) {\n      var dpoints = utils.derive(points);\n      var d1 = dpoints[0];\n      var d2 = dpoints[1];\n      var num, dnm, adk, dk, k=0, r=0;\n\n      //\n      // We're using the following formula for curvature:\n      //\n      //              x'y\" - y'x\"\n      //   k(t) = ------------------\n      //           (x'² + y'²)^(3/2)\n      //\n      // from https://en.wikipedia.org/wiki/Radius_of_curvature#Definition\n      //\n      // With it corresponding 3D counterpart:\n      //\n      //          sqrt( (y'z\" - y\"z')² + (z'x\" - z\"x')² + (x'y\" - x\"y')²)\n      //   k(t) = -------------------------------------------------------\n      //                     (x'² + y'² + z'²)^(3/2)\n      //\n\n      var d = utils.compute(t, d1);\n      var dd = utils.compute(t, d2);\n      var qdsum = d.x*d.x + d.y*d.y;\n      if (_3d) {\n        num = sqrt(\n          pow(d.y*dd.z - dd.y*d.z, 2) +\n          pow(d.z*dd.x - dd.z*d.x, 2) +\n          pow(d.x*dd.y - dd.x*d.y, 2)\n        );\n        dnm = pow(qdsum + d.z*d.z, 3/2);\n      } else {\n        num = d.x*dd.y - d.y*dd.x;\n        dnm = pow(qdsum, 3/2);\n      }\n\n      if (num === 0 || dnm === 0) {\n        return { k:0, r:0 };\n      }\n\n      k = num/dnm;\n      r = dnm/num;\n\n      // We're also computing the derivative of kappa, because\n      // there is value in knowing the rate of change for the\n      // curvature along the curve. And we're just going to\n      // ballpark it based on an epsilon.\n      if (!kOnly) {\n        // compute k'(t) based on the interval before, and after it,\n        // to at least try to not introduce forward/backward pass bias.\n        var pk = utils.curvature(t-0.001, points, _3d, true).k;\n        var nk = utils.curvature(t+0.001, points, _3d, true).k;\n        dk = ((nk-k) + (k-pk))/2;\n        adk = (abs(nk-k) + abs(k-pk))/2;\n      }\n\n      return { k: k, r: r, dk: dk, adk:adk, };\n    },\n\n    inflections: function(points) {\n      if (points.length < 4) return [];\n\n      // FIXME: TODO: add in inflection abstraction for quartic+ curves?\n\n      var p = utils.align(points, { p1: points[0], p2: points.slice(-1)[0] }),\n        a = p[2].x * p[1].y,\n        b = p[3].x * p[1].y,\n        c = p[1].x * p[2].y,\n        d = p[3].x * p[2].y,\n        v1 = 18 * (-3 * a + 2 * b + 3 * c - d),\n        v2 = 18 * (3 * a - b - 3 * c),\n        v3 = 18 * (c - a);\n\n      if (utils.approximately(v1, 0)) {\n        if (!utils.approximately(v2, 0)) {\n          var t = -v3 / v2;\n          if (0 <= t && t <= 1) return [t];\n        }\n        return [];\n      }\n\n      var trm = v2 * v2 - 4 * v1 * v3,\n        sq = Math.sqrt(trm),\n        d = 2 * v1;\n\n      if (utils.approximately(d, 0)) return [];\n\n      return [(sq - v2) / d, -(v2 + sq) / d].filter(function(r) {\n        return 0 <= r && r <= 1;\n      });\n    },\n\n    bboxoverlap: function(b1, b2) {\n      var dims = [\"x\", \"y\"],\n        len = dims.length,\n        i,\n        dim,\n        l,\n        t,\n        d;\n      for (i = 0; i < len; i++) {\n        dim = dims[i];\n        l = b1[dim].mid;\n        t = b2[dim].mid;\n        d = (b1[dim].size + b2[dim].size) / 2;\n        if (abs(l - t) >= d) return false;\n      }\n      return true;\n    },\n\n    expandbox: function(bbox, _bbox) {\n      if (_bbox.x.min < bbox.x.min) {\n        bbox.x.min = _bbox.x.min;\n      }\n      if (_bbox.y.min < bbox.y.min) {\n        bbox.y.min = _bbox.y.min;\n      }\n      if (_bbox.z && _bbox.z.min < bbox.z.min) {\n        bbox.z.min = _bbox.z.min;\n      }\n      if (_bbox.x.max > bbox.x.max) {\n        bbox.x.max = _bbox.x.max;\n      }\n      if (_bbox.y.max > bbox.y.max) {\n        bbox.y.max = _bbox.y.max;\n      }\n      if (_bbox.z && _bbox.z.max > bbox.z.max) {\n        bbox.z.max = _bbox.z.max;\n      }\n      bbox.x.mid = (bbox.x.min + bbox.x.max) / 2;\n      bbox.y.mid = (bbox.y.min + bbox.y.max) / 2;\n      if (bbox.z) {\n        bbox.z.mid = (bbox.z.min + bbox.z.max) / 2;\n      }\n      bbox.x.size = bbox.x.max - bbox.x.min;\n      bbox.y.size = bbox.y.max - bbox.y.min;\n      if (bbox.z) {\n        bbox.z.size = bbox.z.max - bbox.z.min;\n      }\n    },\n\n    pairiteration: function(c1, c2, curveIntersectionThreshold) {\n      var c1b = c1.bbox(),\n        c2b = c2.bbox(),\n        r = 100000,\n        threshold = curveIntersectionThreshold || 0.5;\n      if (\n        c1b.x.size + c1b.y.size < threshold &&\n        c2b.x.size + c2b.y.size < threshold\n      ) {\n        return [\n          ((r * (c1._t1 + c1._t2) / 2) | 0) / r +\n            \"/\" +\n            ((r * (c2._t1 + c2._t2) / 2) | 0) / r\n        ];\n      }\n      var cc1 = c1.split(0.5),\n        cc2 = c2.split(0.5),\n        pairs = [\n          { left: cc1.left, right: cc2.left },\n          { left: cc1.left, right: cc2.right },\n          { left: cc1.right, right: cc2.right },\n          { left: cc1.right, right: cc2.left }\n        ];\n      pairs = pairs.filter(function(pair) {\n        return utils.bboxoverlap(pair.left.bbox(), pair.right.bbox());\n      });\n      var results = [];\n      if (pairs.length === 0) return results;\n      pairs.forEach(function(pair) {\n        results = results.concat(\n          utils.pairiteration(pair.left, pair.right, threshold)\n        );\n      });\n      results = results.filter(function(v, i) {\n        return results.indexOf(v) === i;\n      });\n      return results;\n    },\n\n    getccenter: function(p1, p2, p3) {\n      var dx1 = p2.x - p1.x,\n        dy1 = p2.y - p1.y,\n        dx2 = p3.x - p2.x,\n        dy2 = p3.y - p2.y;\n      var dx1p = dx1 * cos(quart) - dy1 * sin(quart),\n        dy1p = dx1 * sin(quart) + dy1 * cos(quart),\n        dx2p = dx2 * cos(quart) - dy2 * sin(quart),\n        dy2p = dx2 * sin(quart) + dy2 * cos(quart);\n      // chord midpoints\n      var mx1 = (p1.x + p2.x) / 2,\n        my1 = (p1.y + p2.y) / 2,\n        mx2 = (p2.x + p3.x) / 2,\n        my2 = (p2.y + p3.y) / 2;\n      // midpoint offsets\n      var mx1n = mx1 + dx1p,\n        my1n = my1 + dy1p,\n        mx2n = mx2 + dx2p,\n        my2n = my2 + dy2p;\n      // intersection of these lines:\n      var arc = utils.lli8(mx1, my1, mx1n, my1n, mx2, my2, mx2n, my2n),\n        r = utils.dist(arc, p1),\n        // arc start/end values, over mid point:\n        s = atan2(p1.y - arc.y, p1.x - arc.x),\n        m = atan2(p2.y - arc.y, p2.x - arc.x),\n        e = atan2(p3.y - arc.y, p3.x - arc.x),\n        _;\n      // determine arc direction (cw/ccw correction)\n      if (s < e) {\n        // if s<m<e, arc(s, e)\n        // if m<s<e, arc(e, s + tau)\n        // if s<e<m, arc(e, s + tau)\n        if (s > m || m > e) {\n          s += tau;\n        }\n        if (s > e) {\n          _ = e;\n          e = s;\n          s = _;\n        }\n      } else {\n        // if e<m<s, arc(e, s)\n        // if m<e<s, arc(s, e + tau)\n        // if e<s<m, arc(s, e + tau)\n        if (e < m && m < s) {\n          _ = e;\n          e = s;\n          s = _;\n        } else {\n          e += tau;\n        }\n      }\n      // assign and done.\n      arc.s = s;\n      arc.e = e;\n      arc.r = r;\n      return arc;\n    },\n\n    numberSort: function(a, b) {\n      return a - b;\n    }\n  };\n\n  module.exports = utils;\n})();\n","(function() {\n  \"use strict\";\n\n  var utils = require(\"./utils.js\");\n\n  /**\n   * Poly Bezier\n   * @param {[type]} curves [description]\n   */\n  var PolyBezier = function(curves) {\n    this.curves = [];\n    this._3d = false;\n    if (!!curves) {\n      this.curves = curves;\n      this._3d = this.curves[0]._3d;\n    }\n  };\n\n  PolyBezier.prototype = {\n    valueOf: function() {\n      return this.toString();\n    },\n    toString: function() {\n      return (\n        \"[\" +\n        this.curves\n          .map(function(curve) {\n            return utils.pointsToString(curve.points);\n          })\n          .join(\", \") +\n        \"]\"\n      );\n    },\n    addCurve: function(curve) {\n      this.curves.push(curve);\n      this._3d = this._3d || curve._3d;\n    },\n    length: function() {\n      return this.curves\n        .map(function(v) {\n          return v.length();\n        })\n        .reduce(function(a, b) {\n          return a + b;\n        });\n    },\n    curve: function(idx) {\n      return this.curves[idx];\n    },\n    bbox: function() {\n      var c = this.curves;\n      var bbox = c[0].bbox();\n      for (var i = 1; i < c.length; i++) {\n        utils.expandbox(bbox, c[i].bbox());\n      }\n      return bbox;\n    },\n    offset: function(d) {\n      var offset = [];\n      this.curves.forEach(function(v) {\n        offset = offset.concat(v.offset(d));\n      });\n      return new PolyBezier(offset);\n    }\n  };\n\n  module.exports = PolyBezier;\n})();\n","/**\n * Normalise an SVG path to absolute coordinates\n * and full commands, rather than relative coordinates\n * and/or shortcut commands.\n */\nfunction normalizePath(d) {\n  // preprocess \"d\" so that we have spaces between values\n  d = d\n    .replace(/,/g, \" \") // replace commas with spaces\n    .replace(/-/g, \" - \") // add spacing around minus signs\n    .replace(/-\\s+/g, \"-\") // remove spacing to the right of minus signs.\n    .replace(/([a-zA-Z])/g, \" $1 \");\n\n  // set up the variables used in this function\n  var instructions = d.replace(/([a-zA-Z])\\s?/g, \"|$1\").split(\"|\"),\n    instructionLength = instructions.length,\n    i,\n    instruction,\n    op,\n    lop,\n    args = [],\n    alen,\n    a,\n    sx = 0,\n    sy = 0,\n    x = 0,\n    y = 0,\n    cx = 0,\n    cy = 0,\n    cx2 = 0,\n    cy2 = 0,\n    normalized = \"\";\n\n  // we run through the instruction list starting at 1, not 0,\n  // because we split up \"|M x y ....\" so the first element will\n  // always be an empty string. By design.\n  for (i = 1; i < instructionLength; i++) {\n    // which instruction is this?\n    instruction = instructions[i];\n    op = instruction.substring(0, 1);\n    lop = op.toLowerCase();\n\n    // what are the arguments? note that we need to convert\n    // all strings into numbers, or + will do silly things.\n    args = instruction\n      .replace(op, \"\")\n      .trim()\n      .split(\" \");\n    args = args\n      .filter(function(v) {\n        return v !== \"\";\n      })\n      .map(parseFloat);\n    alen = args.length;\n\n    // we could use a switch, but elaborate code in a \"case\" with\n    // fallthrough is just horrid to read. So let's use ifthen\n    // statements instead.\n\n    // moveto command (plus possible lineto)\n    if (lop === \"m\") {\n      normalized += \"M \";\n      if (op === \"m\") {\n        x += args[0];\n        y += args[1];\n      } else {\n        x = args[0];\n        y = args[1];\n      }\n      // records start position, for dealing\n      // with the shape close operator ('Z')\n      sx = x;\n      sy = y;\n      normalized += x + \" \" + y + \" \";\n      if (alen > 2) {\n        for (a = 0; a < alen; a += 2) {\n          if (op === \"m\") {\n            x += args[a];\n            y += args[a + 1];\n          } else {\n            x = args[a];\n            y = args[a + 1];\n          }\n          normalized += [\"L\",x,y,''].join(\" \");\n        }\n      }\n    } else if (lop === \"l\") {\n      // lineto commands\n      for (a = 0; a < alen; a += 2) {\n        if (op === \"l\") {\n          x += args[a];\n          y += args[a + 1];\n        } else {\n          x = args[a];\n          y = args[a + 1];\n        }\n        normalized += [\"L\",x,y,''].join(\" \");\n      }\n    } else if (lop === \"h\") {\n      for (a = 0; a < alen; a++) {\n        if (op === \"h\") {\n          x += args[a];\n        } else {\n          x = args[a];\n        }\n        normalized += [\"L\",x,y,''].join(\" \");\n      }\n    } else if (lop === \"v\") {\n      for (a = 0; a < alen; a++) {\n        if (op === \"v\") {\n          y += args[a];\n        } else {\n          y = args[a];\n        }\n        normalized += [\"L\",x,y,''].join(\" \");\n      }\n    } else if (lop === \"q\") {\n      // quadratic curveto commands\n      for (a = 0; a < alen; a += 4) {\n        if (op === \"q\") {\n          cx = x + args[a];\n          cy = y + args[a + 1];\n          x += args[a + 2];\n          y += args[a + 3];\n        } else {\n          cx = args[a];\n          cy = args[a + 1];\n          x = args[a + 2];\n          y = args[a + 3];\n        }\n        normalized += [\"Q\",cx,cy,x,y,''].join(\" \");\n      }\n    } else if (lop === \"t\") {\n      for (a = 0; a < alen; a += 2) {\n        // reflect previous cx/cy over x/y\n        cx = x + (x - cx);\n        cy = y + (y - cy);\n        // then get real end point\n        if (op === \"t\") {\n          x += args[a];\n          y += args[a + 1];\n        } else {\n          x = args[a];\n          y = args[a + 1];\n        }\n        normalized += [\"Q\",cx,cy,x,y,''].join(\" \");\n      }\n    } else if (lop === \"c\") {\n      // cubic curveto commands\n      for (a = 0; a < alen; a += 6) {\n        if (op === \"c\") {\n          cx = x + args[a];\n          cy = y + args[a + 1];\n          cx2 = x + args[a + 2];\n          cy2 = y + args[a + 3];\n          x += args[a + 4];\n          y += args[a + 5];\n        } else {\n          cx = args[a];\n          cy = args[a + 1];\n          cx2 = args[a + 2];\n          cy2 = args[a + 3];\n          x = args[a + 4];\n          y = args[a + 5];\n        }\n        normalized += [\"C\",cx,cy,cx2,cy2,x,y,''].join(\" \");\n      }\n    } else if (lop === \"s\") {\n      for (a = 0; a < alen; a += 4) {\n        // reflect previous cx2/cy2 over x/y\n        cx = x + (x - cx2);\n        cy = y + (y - cy2);\n        // then get real control and end point\n        if (op === \"s\") {\n          cx2 = x + args[a];\n          cy2 = y + args[a + 1];\n          x += args[a + 2];\n          y += args[a + 3];\n        } else {\n          cx2 = args[a];\n          cy2 = args[a + 1];\n          x = args[a + 2];\n          y = args[a + 3];\n        }\n        normalized +=[\"C\",cx,cy,cx2,cy2,x,y,''].join(\" \");\n      }\n    } else if (lop === \"z\") {\n      normalized += \"Z \";\n      // not unimportant: path closing changes the current x/y coordinate\n      x = sx;\n      y = sy;\n    }\n  }\n  return normalized.trim();\n}\n\nmodule.exports = normalizePath;\n","var normalise = require(\"./normalise-svg.js\");\n\nvar M = { x: false, y: false };\n\nfunction makeBezier(Bezier, term, values) {\n  if (term === 'Z') return;\n  if (term === 'M') {\n    M = {x: values[0], y: values[1]};\n    return;\n  }\n  // ES7: new Bezier(M.x, M.y, ...values)\n  var cvalues = [false, M.x, M.y].concat(values);\n  var PreboundConstructor = Bezier.bind.apply(Bezier, cvalues)\n  var curve = new PreboundConstructor();\n  var last = values.slice(-2);\n  M = { x : last[0], y: last[1] };\n  return curve;\n}\n\nfunction convertPath(Bezier, d) {\n  var terms = normalise(d).split(\" \"),\n    term,\n    matcher = new RegExp(\"[MLCQZ]\", \"\"),\n    segment,\n    values,\n    segments = [],\n    ARGS = { \"C\": 6, \"Q\": 4, \"L\": 2, \"M\": 2};\n\n  while (terms.length) {\n    term = terms.splice(0,1)[0];\n    if (matcher.test(term)) {\n      values = terms.splice(0, ARGS[term]).map(parseFloat);\n      segment = makeBezier(Bezier, term, values);\n      if (segment) segments.push(segment);\n    }\n  }\n\n  return new Bezier.PolyBezier(segments);\n}\n\nmodule.exports = convertPath;\n","/**\n  A javascript Bezier curve library by Pomax.\n\n  Based on http://pomax.github.io/bezierinfo\n\n  This code is MIT licensed.\n**/\n(function() {\n  \"use strict\";\n\n  // math-inlining.\n  var abs = Math.abs,\n    min = Math.min,\n    max = Math.max,\n    cos = Math.cos,\n    sin = Math.sin,\n    acos = Math.acos,\n    sqrt = Math.sqrt,\n    pi = Math.PI,\n    // a zero coordinate, which is surprisingly useful\n    ZERO = { x: 0, y: 0, z: 0 };\n\n  // quite needed\n  var utils = require(\"./utils.js\");\n\n  // only used for outlines atm.\n  var PolyBezier = require(\"./poly-bezier.js\");\n\n  /**\n   * Bezier curve constructor. The constructor argument can be one of three things:\n   *\n   * 1. array/4 of {x:..., y:..., z:...}, z optional\n   * 2. numerical array/8 ordered x1,y1,x2,y2,x3,y3,x4,y4\n   * 3. numerical array/12 ordered x1,y1,z1,x2,y2,z2,x3,y3,z3,x4,y4,z4\n   *\n   */\n  var Bezier = function(coords) {\n    var args = coords && coords.forEach ? coords : [].slice.call(arguments);\n    var coordlen = false;\n    if (typeof args[0] === \"object\") {\n      coordlen = args.length;\n      var newargs = [];\n      args.forEach(function(point) {\n        [\"x\", \"y\", \"z\"].forEach(function(d) {\n          if (typeof point[d] !== \"undefined\") {\n            newargs.push(point[d]);\n          }\n        });\n      });\n      args = newargs;\n    }\n    var higher = false;\n    var len = args.length;\n    if (coordlen) {\n      if (coordlen > 4) {\n        if (arguments.length !== 1) {\n          throw new Error(\n            \"Only new Bezier(point[]) is accepted for 4th and higher order curves\"\n          );\n        }\n        higher = true;\n      }\n    } else {\n      if (len !== 6 && len !== 8 && len !== 9 && len !== 12) {\n        if (arguments.length !== 1) {\n          throw new Error(\n            \"Only new Bezier(point[]) is accepted for 4th and higher order curves\"\n          );\n        }\n      }\n    }\n    var _3d =\n      (!higher && (len === 9 || len === 12)) ||\n      (coords && coords[0] && typeof coords[0].z !== \"undefined\");\n    this._3d = _3d;\n    var points = [];\n    for (var idx = 0, step = _3d ? 3 : 2; idx < len; idx += step) {\n      var point = {\n        x: args[idx],\n        y: args[idx + 1]\n      };\n      if (_3d) {\n        point.z = args[idx + 2];\n      }\n      points.push(point);\n    }\n    this.order = points.length - 1;\n    this.points = points;\n    var dims = [\"x\", \"y\"];\n    if (_3d) dims.push(\"z\");\n    this.dims = dims;\n    this.dimlen = dims.length;\n\n    (function(curve) {\n      var order = curve.order;\n      var points = curve.points;\n      var a = utils.align(points, { p1: points[0], p2: points[order] });\n      for (var i = 0; i < a.length; i++) {\n        if (abs(a[i].y) > 0.0001) {\n          curve._linear = false;\n          return;\n        }\n      }\n      curve._linear = true;\n    })(this);\n\n    this._t1 = 0;\n    this._t2 = 1;\n    this.update();\n  };\n\n  var svgToBeziers = require(\"./svg-to-beziers\");\n\n  /**\n   * turn an svg <path> d attribute into a sequence of Bezier segments.\n   */\n  Bezier.SVGtoBeziers = function(d) {\n    return svgToBeziers(Bezier, d);\n  };\n\n  function getABC(n, S, B, E, t) {\n    if (typeof t === \"undefined\") {\n      t = 0.5;\n    }\n    var u = utils.projectionratio(t, n),\n      um = 1 - u,\n      C = {\n        x: u * S.x + um * E.x,\n        y: u * S.y + um * E.y\n      },\n      s = utils.abcratio(t, n),\n      A = {\n        x: B.x + (B.x - C.x) / s,\n        y: B.y + (B.y - C.y) / s\n      };\n    return { A: A, B: B, C: C };\n  }\n\n  Bezier.quadraticFromPoints = function(p1, p2, p3, t) {\n    if (typeof t === \"undefined\") {\n      t = 0.5;\n    }\n    // shortcuts, although they're really dumb\n    if (t === 0) {\n      return new Bezier(p2, p2, p3);\n    }\n    if (t === 1) {\n      return new Bezier(p1, p2, p2);\n    }\n    // real fitting.\n    var abc = getABC(2, p1, p2, p3, t);\n    return new Bezier(p1, abc.A, p3);\n  };\n\n  Bezier.cubicFromPoints = function(S, B, E, t, d1) {\n    if (typeof t === \"undefined\") {\n      t = 0.5;\n    }\n    var abc = getABC(3, S, B, E, t);\n    if (typeof d1 === \"undefined\") {\n      d1 = utils.dist(B, abc.C);\n    }\n    var d2 = d1 * (1 - t) / t;\n\n    var selen = utils.dist(S, E),\n      lx = (E.x - S.x) / selen,\n      ly = (E.y - S.y) / selen,\n      bx1 = d1 * lx,\n      by1 = d1 * ly,\n      bx2 = d2 * lx,\n      by2 = d2 * ly;\n    // derivation of new hull coordinates\n    var e1 = { x: B.x - bx1, y: B.y - by1 },\n      e2 = { x: B.x + bx2, y: B.y + by2 },\n      A = abc.A,\n      v1 = { x: A.x + (e1.x - A.x) / (1 - t), y: A.y + (e1.y - A.y) / (1 - t) },\n      v2 = { x: A.x + (e2.x - A.x) / t, y: A.y + (e2.y - A.y) / t },\n      nc1 = { x: S.x + (v1.x - S.x) / t, y: S.y + (v1.y - S.y) / t },\n      nc2 = {\n        x: E.x + (v2.x - E.x) / (1 - t),\n        y: E.y + (v2.y - E.y) / (1 - t)\n      };\n    // ...done\n    return new Bezier(S, nc1, nc2, E);\n  };\n\n  var getUtils = function() {\n    return utils;\n  };\n\n  Bezier.getUtils = getUtils;\n\n  Bezier.PolyBezier = PolyBezier;\n\n  Bezier.prototype = {\n    getUtils: getUtils,\n    valueOf: function() {\n      return this.toString();\n    },\n    toString: function() {\n      return utils.pointsToString(this.points);\n    },\n    toSVG: function(relative) {\n      if (this._3d) return false;\n      var p = this.points,\n        x = p[0].x,\n        y = p[0].y,\n        s = [\"M\", x, y, this.order === 2 ? \"Q\" : \"C\"];\n      for (var i = 1, last = p.length; i < last; i++) {\n        s.push(p[i].x);\n        s.push(p[i].y);\n      }\n      return s.join(\" \");\n    },\n    setRatios: function(ratios) {\n      if (ratios.length !== this.points.length) {\n        throw new Error(\"incorrect number of ratio values\");\n      }\n      this.ratios = ratios;\n      this._lut = []; //  invalidate any precomputed LUT\n    },\n    verify: function() {\n      var print = this.coordDigest();\n      if (print !== this._print) {\n        this._print = print;\n        this.update();\n      }\n    },\n    coordDigest: function() {\n      return this.points.map(function(c,pos) {\n        return '' + pos + c.x + c.y + c.z?c.z:0;\n      }).join('');\n    },\n    update: function(newprint) {\n      // invalidate any precomputed LUT\n      this._lut = [];\n      this.dpoints = utils.derive(this.points, this._3d);\n      this.computedirection();\n    },\n    computedirection: function() {\n      var points = this.points;\n      var angle = utils.angle(points[0], points[this.order], points[1]);\n      this.clockwise = angle > 0;\n    },\n    length: function() {\n      return utils.length(this.derivative.bind(this));\n    },\n    _lut: [],\n    getLUT: function(steps) {\n      this.verify();\n      steps = steps || 100;\n      if (this._lut.length === steps) {\n        return this._lut;\n      }\n      this._lut = [];\n      // We want a range from 0 to 1 inclusive, so\n      // we decrement and then use <= rather than <:\n      steps--;\n      for (var t = 0; t <= steps; t++) {\n        this._lut.push(this.compute(t / steps));\n      }\n      return this._lut;\n    },\n    on: function(point, error) {\n      error = error || 5;\n      var lut = this.getLUT(),\n        hits = [],\n        c,\n        t = 0;\n      for (var i = 0; i < lut.length; i++) {\n        c = lut[i];\n        if (utils.dist(c, point) < error) {\n          hits.push(c);\n          t += i / lut.length;\n        }\n      }\n      if (!hits.length) return false;\n      return (t /= hits.length);\n    },\n    project: function(point) {\n      // step 1: coarse check\n      var LUT = this.getLUT(),\n        l = LUT.length - 1,\n        closest = utils.closest(LUT, point),\n        mdist = closest.mdist,\n        mpos = closest.mpos;\n\n      // step 2: fine check\n      var ft,\n        t,\n        p,\n        d,\n        t1 = (mpos - 1) / l,\n        t2 = (mpos + 1) / l,\n        step = 0.1 / l;\n      mdist += 1;\n      for (t = t1, ft = t; t < t2 + step; t += step) {\n        p = this.compute(t);\n        d = utils.dist(point, p);\n        if (d < mdist) {\n          mdist = d;\n          ft = t;\n        }\n      }\n      p = this.compute(ft);\n      p.t = ft;\n      p.d = mdist;\n      return p;\n    },\n    get: function(t) {\n      return this.compute(t);\n    },\n    point: function(idx) {\n      return this.points[idx];\n    },\n    compute: function(t) {\n      if (this.ratios) return utils.computeWithRatios(t, this.points, this.ratios, this._3d);\n      return utils.compute(t, this.points, this._3d, this.ratios);\n    },\n    raise: function() {\n      var p = this.points,\n        np = [p[0]],\n        i,\n        k = p.length,\n        pi,\n        pim;\n      for (var i = 1; i < k; i++) {\n        pi = p[i];\n        pim = p[i - 1];\n        np[i] = {\n          x: (k - i) / k * pi.x + i / k * pim.x,\n          y: (k - i) / k * pi.y + i / k * pim.y\n        };\n      }\n      np[k] = p[k - 1];\n      return new Bezier(np);\n    },\n    derivative: function(t) {\n      var mt = 1 - t,\n        a,\n        b,\n        c = 0,\n        p = this.dpoints[0];\n      if (this.order === 2) {\n        p = [p[0], p[1], ZERO];\n        a = mt;\n        b = t;\n      }\n      if (this.order === 3) {\n        a = mt * mt;\n        b = mt * t * 2;\n        c = t * t;\n      }\n      var ret = {\n        x: a * p[0].x + b * p[1].x + c * p[2].x,\n        y: a * p[0].y + b * p[1].y + c * p[2].y\n      };\n      if (this._3d) {\n        ret.z = a * p[0].z + b * p[1].z + c * p[2].z;\n      }\n      return ret;\n    },\n    curvature: function(t) {\n      return utils.curvature(t, this.points, this._3d);\n    },\n    inflections: function() {\n      return utils.inflections(this.points);\n    },\n    normal: function(t) {\n      return this._3d ? this.__normal3(t) : this.__normal2(t);\n    },\n    __normal2: function(t) {\n      var d = this.derivative(t);\n      var q = sqrt(d.x * d.x + d.y * d.y);\n      return { x: -d.y / q, y: d.x / q };\n    },\n    __normal3: function(t) {\n      // see http://stackoverflow.com/questions/25453159\n      var r1 = this.derivative(t),\n        r2 = this.derivative(t + 0.01),\n        q1 = sqrt(r1.x * r1.x + r1.y * r1.y + r1.z * r1.z),\n        q2 = sqrt(r2.x * r2.x + r2.y * r2.y + r2.z * r2.z);\n      r1.x /= q1;\n      r1.y /= q1;\n      r1.z /= q1;\n      r2.x /= q2;\n      r2.y /= q2;\n      r2.z /= q2;\n      // cross product\n      var c = {\n        x: r2.y * r1.z - r2.z * r1.y,\n        y: r2.z * r1.x - r2.x * r1.z,\n        z: r2.x * r1.y - r2.y * r1.x\n      };\n      var m = sqrt(c.x * c.x + c.y * c.y + c.z * c.z);\n      c.x /= m;\n      c.y /= m;\n      c.z /= m;\n      // rotation matrix\n      var R = [\n        c.x * c.x,\n        c.x * c.y - c.z,\n        c.x * c.z + c.y,\n        c.x * c.y + c.z,\n        c.y * c.y,\n        c.y * c.z - c.x,\n        c.x * c.z - c.y,\n        c.y * c.z + c.x,\n        c.z * c.z\n      ];\n      // normal vector:\n      var n = {\n        x: R[0] * r1.x + R[1] * r1.y + R[2] * r1.z,\n        y: R[3] * r1.x + R[4] * r1.y + R[5] * r1.z,\n        z: R[6] * r1.x + R[7] * r1.y + R[8] * r1.z\n      };\n      return n;\n    },\n    hull: function(t) {\n      var p = this.points,\n        _p = [],\n        pt,\n        q = [],\n        idx = 0,\n        i = 0,\n        l = 0;\n      q[idx++] = p[0];\n      q[idx++] = p[1];\n      q[idx++] = p[2];\n      if (this.order === 3) {\n        q[idx++] = p[3];\n      }\n      // we lerp between all points at each iteration, until we have 1 point left.\n      while (p.length > 1) {\n        _p = [];\n        for (i = 0, l = p.length - 1; i < l; i++) {\n          pt = utils.lerp(t, p[i], p[i + 1]);\n          q[idx++] = pt;\n          _p.push(pt);\n        }\n        p = _p;\n      }\n      return q;\n    },\n    split: function(t1, t2) {\n      // shortcuts\n      if (t1 === 0 && !!t2) {\n        return this.split(t2).left;\n      }\n      if (t2 === 1) {\n        return this.split(t1).right;\n      }\n\n      // no shortcut: use \"de Casteljau\" iteration.\n      var q = this.hull(t1);\n      var result = {\n        left:\n          this.order === 2\n            ? new Bezier([q[0], q[3], q[5]])\n            : new Bezier([q[0], q[4], q[7], q[9]]),\n        right:\n          this.order === 2\n            ? new Bezier([q[5], q[4], q[2]])\n            : new Bezier([q[9], q[8], q[6], q[3]]),\n        span: q\n      };\n\n      // make sure we bind _t1/_t2 information!\n      result.left._t1 = utils.map(0, 0, 1, this._t1, this._t2);\n      result.left._t2 = utils.map(t1, 0, 1, this._t1, this._t2);\n      result.right._t1 = utils.map(t1, 0, 1, this._t1, this._t2);\n      result.right._t2 = utils.map(1, 0, 1, this._t1, this._t2);\n\n      // if we have no t2, we're done\n      if (!t2) {\n        return result;\n      }\n\n      // if we have a t2, split again:\n      t2 = utils.map(t2, t1, 1, 0, 1);\n      var subsplit = result.right.split(t2);\n      return subsplit.left;\n    },\n    extrema: function() {\n      var dims = this.dims,\n        result = {},\n        roots = [],\n        p,\n        mfn;\n      dims.forEach(\n        function(dim) {\n          mfn = function(v) {\n            return v[dim];\n          };\n          p = this.dpoints[0].map(mfn);\n          result[dim] = utils.droots(p);\n          if (this.order === 3) {\n            p = this.dpoints[1].map(mfn);\n            result[dim] = result[dim].concat(utils.droots(p));\n          }\n          result[dim] = result[dim].filter(function(t) {\n            return t >= 0 && t <= 1;\n          });\n          roots = roots.concat(result[dim].sort(utils.numberSort));\n        }.bind(this)\n      );\n      roots = roots.sort(utils.numberSort).filter(function(v, idx) {\n        return roots.indexOf(v) === idx;\n      });\n      result.values = roots;\n      return result;\n    },\n    bbox: function() {\n      var extrema = this.extrema(),\n        result = {};\n      this.dims.forEach(\n        function(d) {\n          result[d] = utils.getminmax(this, d, extrema[d]);\n        }.bind(this)\n      );\n      return result;\n    },\n    overlaps: function(curve) {\n      var lbbox = this.bbox(),\n        tbbox = curve.bbox();\n      return utils.bboxoverlap(lbbox, tbbox);\n    },\n    offset: function(t, d) {\n      if (typeof d !== \"undefined\") {\n        var c = this.get(t);\n        var n = this.normal(t);\n        var ret = {\n          c: c,\n          n: n,\n          x: c.x + n.x * d,\n          y: c.y + n.y * d\n        };\n        if (this._3d) {\n          ret.z = c.z + n.z * d;\n        }\n        return ret;\n      }\n      if (this._linear) {\n        var nv = this.normal(0);\n        var coords = this.points.map(function(p) {\n          var ret = {\n            x: p.x + t * nv.x,\n            y: p.y + t * nv.y\n          };\n          if (p.z && n.z) {\n            ret.z = p.z + t * nv.z;\n          }\n          return ret;\n        });\n        return [new Bezier(coords)];\n      }\n      var reduced = this.reduce();\n      return reduced.map(function(s) {\n        if (s._linear) {\n          return s.offset(t)[0];\n        }\n        return s.scale(t);\n      });\n    },\n    simple: function() {\n      if (this.order === 3) {\n        var a1 = utils.angle(this.points[0], this.points[3], this.points[1]);\n        var a2 = utils.angle(this.points[0], this.points[3], this.points[2]);\n        if ((a1 > 0 && a2 < 0) || (a1 < 0 && a2 > 0)) return false;\n      }\n      var n1 = this.normal(0);\n      var n2 = this.normal(1);\n      var s = n1.x * n2.x + n1.y * n2.y;\n      if (this._3d) {\n        s += n1.z * n2.z;\n      }\n      var angle = abs(acos(s));\n      return angle < pi / 3;\n    },\n    reduce: function() {\n      var i,\n        t1 = 0,\n        t2 = 0,\n        step = 0.01,\n        segment,\n        pass1 = [],\n        pass2 = [];\n      // first pass: split on extrema\n      var extrema = this.extrema().values;\n      if (extrema.indexOf(0) === -1) {\n        extrema = [0].concat(extrema);\n      }\n      if (extrema.indexOf(1) === -1) {\n        extrema.push(1);\n      }\n\n      for (t1 = extrema[0], i = 1; i < extrema.length; i++) {\n        t2 = extrema[i];\n        segment = this.split(t1, t2);\n        segment._t1 = t1;\n        segment._t2 = t2;\n        pass1.push(segment);\n        t1 = t2;\n      }\n\n      // second pass: further reduce these segments to simple segments\n      pass1.forEach(function(p1) {\n        t1 = 0;\n        t2 = 0;\n        while (t2 <= 1) {\n          for (t2 = t1 + step; t2 <= 1 + step; t2 += step) {\n            segment = p1.split(t1, t2);\n            if (!segment.simple()) {\n              t2 -= step;\n              if (abs(t1 - t2) < step) {\n                // we can never form a reduction\n                return [];\n              }\n              segment = p1.split(t1, t2);\n              segment._t1 = utils.map(t1, 0, 1, p1._t1, p1._t2);\n              segment._t2 = utils.map(t2, 0, 1, p1._t1, p1._t2);\n              pass2.push(segment);\n              t1 = t2;\n              break;\n            }\n          }\n        }\n        if (t1 < 1) {\n          segment = p1.split(t1, 1);\n          segment._t1 = utils.map(t1, 0, 1, p1._t1, p1._t2);\n          segment._t2 = p1._t2;\n          pass2.push(segment);\n        }\n      });\n      return pass2;\n    },\n    scale: function(d) {\n      var order = this.order;\n      var distanceFn = false;\n      if (typeof d === \"function\") {\n        distanceFn = d;\n      }\n      if (distanceFn && order === 2) {\n        return this.raise().scale(distanceFn);\n      }\n\n      // TODO: add special handling for degenerate (=linear) curves.\n      var clockwise = this.clockwise;\n      var r1 = distanceFn ? distanceFn(0) : d;\n      var r2 = distanceFn ? distanceFn(1) : d;\n      var v = [this.offset(0, 10), this.offset(1, 10)];\n      var o = utils.lli4(v[0], v[0].c, v[1], v[1].c);\n      if (!o) {\n        throw new Error(\"cannot scale this curve. Try reducing it first.\");\n      }\n      // move all points by distance 'd' wrt the origin 'o'\n      var points = this.points,\n        np = [];\n\n      // move end points by fixed distance along normal.\n      [0, 1].forEach(\n        function(t) {\n          var p = (np[t * order] = utils.copy(points[t * order]));\n          p.x += (t ? r2 : r1) * v[t].n.x;\n          p.y += (t ? r2 : r1) * v[t].n.y;\n        }.bind(this)\n      );\n\n      if (!distanceFn) {\n        // move control points to lie on the intersection of the offset\n        // derivative vector, and the origin-through-control vector\n        [0, 1].forEach(\n          function(t) {\n            if (this.order === 2 && !!t) return;\n            var p = np[t * order];\n            var d = this.derivative(t);\n            var p2 = { x: p.x + d.x, y: p.y + d.y };\n            np[t + 1] = utils.lli4(p, p2, o, points[t + 1]);\n          }.bind(this)\n        );\n        return new Bezier(np);\n      }\n\n      // move control points by \"however much necessary to\n      // ensure the correct tangent to endpoint\".\n      [0, 1].forEach(\n        function(t) {\n          if (this.order === 2 && !!t) return;\n          var p = points[t + 1];\n          var ov = {\n            x: p.x - o.x,\n            y: p.y - o.y\n          };\n          var rc = distanceFn ? distanceFn((t + 1) / order) : d;\n          if (distanceFn && !clockwise) rc = -rc;\n          var m = sqrt(ov.x * ov.x + ov.y * ov.y);\n          ov.x /= m;\n          ov.y /= m;\n          np[t + 1] = {\n            x: p.x + rc * ov.x,\n            y: p.y + rc * ov.y\n          };\n        }.bind(this)\n      );\n      return new Bezier(np);\n    },\n    outline: function(d1, d2, d3, d4) {\n      d2 = typeof d2 === \"undefined\" ? d1 : d2;\n      var reduced = this.reduce(),\n        len = reduced.length,\n        fcurves = [],\n        bcurves = [],\n        p,\n        alen = 0,\n        tlen = this.length();\n\n      var graduated = typeof d3 !== \"undefined\" && typeof d4 !== \"undefined\";\n\n      function linearDistanceFunction(s, e, tlen, alen, slen) {\n        return function(v) {\n          var f1 = alen / tlen,\n            f2 = (alen + slen) / tlen,\n            d = e - s;\n          return utils.map(v, 0, 1, s + f1 * d, s + f2 * d);\n        };\n      }\n\n      // form curve oulines\n      reduced.forEach(function(segment) {\n        slen = segment.length();\n        if (graduated) {\n          fcurves.push(\n            segment.scale(linearDistanceFunction(d1, d3, tlen, alen, slen))\n          );\n          bcurves.push(\n            segment.scale(linearDistanceFunction(-d2, -d4, tlen, alen, slen))\n          );\n        } else {\n          fcurves.push(segment.scale(d1));\n          bcurves.push(segment.scale(-d2));\n        }\n        alen += slen;\n      });\n\n      // reverse the \"return\" outline\n      bcurves = bcurves\n        .map(function(s) {\n          p = s.points;\n          if (p[3]) {\n            s.points = [p[3], p[2], p[1], p[0]];\n          } else {\n            s.points = [p[2], p[1], p[0]];\n          }\n          return s;\n        })\n        .reverse();\n\n      // form the endcaps as lines\n      var fs = fcurves[0].points[0],\n        fe = fcurves[len - 1].points[fcurves[len - 1].points.length - 1],\n        bs = bcurves[len - 1].points[bcurves[len - 1].points.length - 1],\n        be = bcurves[0].points[0],\n        ls = utils.makeline(bs, fs),\n        le = utils.makeline(fe, be),\n        segments = [ls]\n          .concat(fcurves)\n          .concat([le])\n          .concat(bcurves),\n        slen = segments.length;\n\n      return new PolyBezier(segments);\n    },\n    outlineshapes: function(d1, d2, curveIntersectionThreshold) {\n      d2 = d2 || d1;\n      var outline = this.outline(d1, d2).curves;\n      var shapes = [];\n      for (var i = 1, len = outline.length; i < len / 2; i++) {\n        var shape = utils.makeshape(\n          outline[i],\n          outline[len - i],\n          curveIntersectionThreshold\n        );\n        shape.startcap.virtual = i > 1;\n        shape.endcap.virtual = i < len / 2 - 1;\n        shapes.push(shape);\n      }\n      return shapes;\n    },\n    intersects: function(curve, curveIntersectionThreshold) {\n      if (!curve) return this.selfintersects(curveIntersectionThreshold);\n      if (curve.p1 && curve.p2) {\n        return this.lineIntersects(curve);\n      }\n      if (curve instanceof Bezier) {\n        curve = curve.reduce();\n      }\n      return this.curveintersects(\n        this.reduce(),\n        curve,\n        curveIntersectionThreshold\n      );\n    },\n    lineIntersects: function(line) {\n      var mx = min(line.p1.x, line.p2.x),\n        my = min(line.p1.y, line.p2.y),\n        MX = max(line.p1.x, line.p2.x),\n        MY = max(line.p1.y, line.p2.y),\n        self = this;\n      return utils.roots(this.points, line).filter(function(t) {\n        var p = self.get(t);\n        return utils.between(p.x, mx, MX) && utils.between(p.y, my, MY);\n      });\n    },\n    selfintersects: function(curveIntersectionThreshold) {\n      var reduced = this.reduce();\n      // \"simple\" curves cannot intersect with their direct\n      // neighbour, so for each segment X we check whether\n      // it intersects [0:x-2][x+2:last].\n      var i,\n        len = reduced.length - 2,\n        results = [],\n        result,\n        left,\n        right;\n      for (i = 0; i < len; i++) {\n        left = reduced.slice(i, i + 1);\n        right = reduced.slice(i + 2);\n        result = this.curveintersects(left, right, curveIntersectionThreshold);\n        results = results.concat(result);\n      }\n      return results;\n    },\n    curveintersects: function(c1, c2, curveIntersectionThreshold) {\n      var pairs = [];\n      // step 1: pair off any overlapping segments\n      c1.forEach(function(l) {\n        c2.forEach(function(r) {\n          if (l.overlaps(r)) {\n            pairs.push({ left: l, right: r });\n          }\n        });\n      });\n      // step 2: for each pairing, run through the convergence algorithm.\n      var intersections = [];\n      pairs.forEach(function(pair) {\n        var result = utils.pairiteration(\n          pair.left,\n          pair.right,\n          curveIntersectionThreshold\n        );\n        if (result.length > 0) {\n          intersections = intersections.concat(result);\n        }\n      });\n      return intersections;\n    },\n    arcs: function(errorThreshold) {\n      errorThreshold = errorThreshold || 0.5;\n      var circles = [];\n      return this._iterate(errorThreshold, circles);\n    },\n    _error: function(pc, np1, s, e) {\n      var q = (e - s) / 4,\n        c1 = this.get(s + q),\n        c2 = this.get(e - q),\n        ref = utils.dist(pc, np1),\n        d1 = utils.dist(pc, c1),\n        d2 = utils.dist(pc, c2);\n      return abs(d1 - ref) + abs(d2 - ref);\n    },\n    _iterate: function(errorThreshold, circles) {\n      var t_s = 0,\n        t_e = 1,\n        safety;\n      // we do a binary search to find the \"good `t` closest to no-longer-good\"\n      do {\n        safety = 0;\n\n        // step 1: start with the maximum possible arc\n        t_e = 1;\n\n        // points:\n        var np1 = this.get(t_s),\n          np2,\n          np3,\n          arc,\n          prev_arc;\n\n        // booleans:\n        var curr_good = false,\n          prev_good = false,\n          done;\n\n        // numbers:\n        var t_m = t_e,\n          prev_e = 1,\n          step = 0;\n\n        // step 2: find the best possible arc\n        do {\n          prev_good = curr_good;\n          prev_arc = arc;\n          t_m = (t_s + t_e) / 2;\n          step++;\n\n          np2 = this.get(t_m);\n          np3 = this.get(t_e);\n\n          arc = utils.getccenter(np1, np2, np3);\n\n          //also save the t values\n          arc.interval = {\n            start: t_s,\n            end: t_e\n          };\n\n          var error = this._error(arc, np1, t_s, t_e);\n          curr_good = error <= errorThreshold;\n\n          done = prev_good && !curr_good;\n          if (!done) prev_e = t_e;\n\n          // this arc is fine: we can move 'e' up to see if we can find a wider arc\n          if (curr_good) {\n            // if e is already at max, then we're done for this arc.\n            if (t_e >= 1) {\n              // make sure we cap at t=1\n              arc.interval.end = prev_e = 1;\n              prev_arc = arc;\n              // if we capped the arc segment to t=1 we also need to make sure that\n              // the arc's end angle is correct with respect to the bezier end point.\n              if (t_e > 1) {\n                var d = {\n                  x: arc.x + arc.r * cos(arc.e),\n                  y: arc.y + arc.r * sin(arc.e)\n                };\n                arc.e += utils.angle({ x: arc.x, y: arc.y }, d, this.get(1));\n              }\n              break;\n            }\n            // if not, move it up by half the iteration distance\n            t_e = t_e + (t_e - t_s) / 2;\n          } else {\n            // this is a bad arc: we need to move 'e' down to find a good arc\n            t_e = t_m;\n          }\n        } while (!done && safety++ < 100);\n\n        if (safety >= 100) {\n          break;\n        }\n\n        // console.log(\"L835: [F] arc found\", t_s, prev_e, prev_arc.x, prev_arc.y, prev_arc.s, prev_arc.e);\n\n        prev_arc = prev_arc ? prev_arc : arc;\n        circles.push(prev_arc);\n        t_s = prev_e;\n      } while (t_e < 1);\n      return circles;\n    }\n  };\n\n  module.exports = Bezier;\n})();\n","module.exports = require('./lib/bezier');\n","module.exports = {\n    pathDataToPolys:svgPathToPolygon,\n    compare:compare\n};\nconst { parseSVG, makeAbsolute } = require('svg-path-parser');\n\nvar Bezier = require('bezier-js')\n\nfunction svgPathToPolygon(svgPathString, opts={}) {\n    if (!opts.tolerance) opts.tolerance=1;\n    const polys = [];\n    const tolerance2 = opts.tolerance*opts.tolerance;\n    let poly = [];\n    let prev;\n\n    makeAbsolute(parseSVG(svgPathString)).forEach( cmd => {\n        switch(cmd.code) {\n            case 'M':\n                polys.push(poly=[]);\n            // intentional flow-through\n            case 'L':\n            case 'H':\n            case 'V':\n            case 'Z':\n                add(cmd.x,cmd.y);\n                if (cmd.code==='Z') poly.closed = true;\n                break;\n\n            case 'C':\n                var newBezier = new Bezier(cmd.x0,cmd.y0,cmd.x1,cmd.y1,cmd.x2,cmd.y2,cmd.x,cmd.y);\n\n                newBezier.getLUT(5).forEach( point => {\n                    add(point.x,point.y);\n                })\n\n                break;\n\n            case 'S':\n                let x1=0, y1=0;\n                if (prev) {\n                    if (prev.code==='C') {\n                        x1 = prev.x*2 - prev.x2;\n                        y1 = prev.y*2 - prev.y2;\n                    } else {\n                        x1 = prev.x;\n                        y1 = prev.y;\n                    }\n                }\n                sampleCubicBézier(cmd.x0,cmd.y0,x1,y1,cmd.x2,cmd.y2,cmd.x,cmd.y);\n                add(cmd.x,cmd.y);\n                break;\n\n            default:\n                console.error('Our deepest apologies, but '+cmd.command+' commands ('+cmd.code+') are not yet supported.');\n                process.exit(2);\n        }\n        prev = cmd;\n    });\n    return polys;\n\n    // http://antigrain.com/research/adaptive_bezier/\n    function sampleCubicBézier(x0, y0, x1, y1, x2, y2, x3, y3) {\n        // Calculate all the mid-points of the line segments\n        const x01   = (x0 + x1) / 2,\n            y01   = (y0 + y1) / 2,\n            x12   = (x1 + x2) / 2,\n            y12   = (y1 + y2) / 2,\n            x23   = (x2 + x3) / 2,\n            y23   = (y2 + y3) / 2,\n            x012  = (x01 + x12) / 2,\n            y012  = (y01 + y12) / 2,\n            x123  = (x12 + x23) / 2,\n            y123  = (y12 + y23) / 2,\n            x0123 = (x012 + x123) / 2,\n            y0123 = (y012 + y123) / 2;\n\n        // Try to approximate the full cubic curve by a single straight line\n        const dx = x3-x0,\n            dy = y3-y0;\n\n        const d1 = Math.abs(((x1-x3)*dy - (y1-y3)*dx)),\n            d2 = Math.abs(((x2-x3)*dy - (y2-y3)*dx));\n\n        if (((d1+d2)*(d1+d2)) < (tolerance2 * (dx*dx + dy*dy))) add(x0123,y0123);\n        else { // Continue subdivision\n            sampleCubicBézier(x0, y0, x01, y01, x012, y012, x0123, y0123);\n            sampleCubicBézier(x0123, y0123, x123, y123, x23, y23, x3, y3);\n        }\n    }\n\n    function add(x,y){\n        if (opts.decimals && opts.decimals>=0) {\n            x = x.toFixed(opts.decimals);\n            y = y.toFixed(opts.decimals);\n        }\n        poly.push([x,y]);\n    }\n}\n\n// OMG YOU FOUND THE SECRET UNDOCUMENTED FEATURE\nfunction compare(pathData,opts={}) {\n    var polys = svgPathToPolygon(pathData,opts);\n    var minX=Infinity, maxX=-Infinity, minY=Infinity, maxY=-Infinity;\n    polys.forEach(poly => {\n        poly.forEach(pt => {\n            if (pt[0]<minX) minX=pt[0];\n            if (pt[1]<minY) minY=pt[1];\n            if (pt[0]>maxX) maxX=pt[0];\n            if (pt[1]>maxY) maxY=pt[1];\n        });\n    });\n    let dx=maxX-minX, dy=maxY-minY;\n    console.log(`\n<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"${dx}px\" height=\"${dy}px\" viewBox=\"${minX} ${minY} ${dx*2} ${dy}\">\n<style>path,polygon,polyline { fill-opacity:0.2; stroke:black }</style>\n<path d=\"${pathData}\"/>\n<g transform=\"translate(${dx},0)\">\n${polys.map(poly => `  <${poly.closed ? 'polygon' : 'polyline'} points=\"${poly.join(' ')}\"/>`).join(\"\\n\")}\n</g>\n</svg>\n\t`.trim());\n};\n","import { pathDataToPolys } from './svg-path-to-polygon.js';\n\nconst zoom  = 1;\n\nfunction stringify(element) {\n    let obj = {};\n    obj.name = element.localName;\n    obj.attributes = [];\n    obj.children = [];\n    Array.from(element.attributes).forEach(a => {\n        obj.attributes.push({ name: a.name, value: a.value });\n    });\n    Array.from(element.children).forEach(c => {\n        obj.children.push(stringify(c));\n    });\n\n    return obj;\n}\n\nfunction getSvgPath(svgxml) {\n    let parser = new DOMParser();\n    let xml = parser.parseFromString(svgxml, 'text/xml');\n    xml = xml.getElementsByTagName(\"svg\")[0].valueOf();\n    var pathInfo = '';\n    let pathObject = {};\n    stringify(xml).children.forEach( (elem) => {\n        if (elem.name === \"path\") {\n            elem.attributes.forEach( (attr) => {\n                if (attr.name === \"d\")\n                    pathInfo += attr.value;\n            })\n        }\n    });\n    if (pathInfo === '') {\n        stringify(xml).children.forEach( (elem) => {\n            if (elem.name === \"g\") {\n                elem.attributes.forEach( (path) => {\n                    if (path.name === \"path\") {\n                        path.attributes.forEach( (d) => {\n                            if (d.name === \"d\") {\n                                pathInfo += d.value;\n                            }\n                        })\n                    }\n                })\n            }\n        });\n\n    }\n\n    return pathInfo;\n}\n\nfunction svgHeader() {\n    return '<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"no\"?>\\n' +\n        '<!DOCTYPE svg PUBLIC \"-//W3C//DTD SVG 20010904//EN\" \"http://www.w3.org/TR/2001/REC-SVG-20010904/DTD/svg10.dtd\">' +\n        '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"100%\" height=\"100%\" viewBox=\"0 0 300 450\">' +\n        '<path id=\"renderedpath\" fill=\"none\" stroke=\"black\" stroke-width=\"1\" d=\"';\n}\n\nfunction svgFooter() {\n    return '\"></path></svg>';\n}\n\nexport function createSvg(plotterformat) {\n    let svg = '';\n    svg = svgHeader() + plotterformat + svgFooter();\n\n    return svg;\n}\n\nexport function convertSvgToPlotterformat(svgxml) {\n    let path2polyPoints = pathDataToPolys(getSvgPath(svgxml), {tolerance:1, decimals:1});\n    //relative\n    let lines = [];\n    let lastPoint = {x: 0,y: 0};\n    path2polyPoints.forEach( line  => {\n        let points = [];\n        line.forEach(point => {\n            point.x = (parseFloat(point[0]) - lastPoint.x) * zoom;\n            point.y = (parseFloat(point[1]) - lastPoint.y) * zoom;\n            lastPoint.x = parseFloat(point[0]);\n            lastPoint.y = parseFloat(point[1]);\n            points.push(point);\n        });\n        lines.push(points);\n    });\n\n    let newPath = \"\";\n    lines.forEach( line => {\n        newPath += \"m\\n\";\n        line.forEach(point => {\n            newPath += point.x + \",\" + point.y + \"\\n\";\n        });\n    });\n\n    return newPath;\n}\n","<script>\n    import {\n        getFilesFromDropEvent,\n        getFilesFromInputEvent,\n        createUploadFile} from \"./fileUtils\";\n    import {\n        convertSvgToPlotterformat,\n        createSvg} from \"./svgUtils\";\n    import { createEventDispatcher } from \"svelte\";\n    export let multiple = false;\n    let dragging = false;\n    let svgOriginal = '';\n    let plotterFormat = '';\n    let svgModified = '';\n    let rawdatafile = {};\n    $: svgModified = createSvg(plotterFormat);\n    const dispatch = createEventDispatcher();\n\n    function startDragging() {\n        dragging = true;\n    }\n\n    function stopDragging() {\n        dragging = false;\n    }\n\n    const onFile = getFilesFunction => event => {\n        stopDragging();\n        const files = getFilesFunction(event);\n        var reader = new FileReader();\n        reader.onload = function(event) {\n            svgOriginal = event.target.result;\n        };\n        reader.onloadend = function() {\n            plotterFormat = convertSvgToPlotterformat(svgOriginal);\n            rawdatafile = createUploadFile(plotterFormat);\n            dispatch(\"setfilename\", {file: rawdatafile});\n        };\n        reader.readAsText(files[0]);\n    };\n\n</script>\n\n<main>\n    <label>\n        <div class=\"dragarea\" class:dragging\n            on:drop|preventDefault={onFile(getFilesFromDropEvent)}\n            on:dragover|preventDefault={startDragging}\n            on:dragleave|preventDefault={stopDragging}>\n        <slot {dragging}>\n                Drag &amp; Drop your file(s) or\n                <strong>browse.</strong>\n        </slot>\n        <input type=\"file\" {multiple} on:input={onFile(getFilesFromInputEvent)}/>\n        </div>\n    </label>\n    <label for=\"svgmodified\">Rendered SVG:</label>\n    <div id=\"svgmodified\" class=\"preview\">{@html svgModified}</div>\n</main>\n\n<style>\n    label {\n        color: #5f5f5f;\n        font-size: 0.85em;\n        font-weight: 200;\n    }\n    input {\n        position: absolute !important;\n        height: 1px;\n        width: 1px;\n        overflow: hidden;\n        clip: rect(1px 1px 1px 1px);\n        clip: rect(1px, 1px, 1px, 1px);\n        white-space: nowrap;\n    }\n\n    .dragarea {\n        text-align: center;\n        padding-top: 2em;\n        border: #ccc solid 1px;\n        background-color: #ededed;\n        width: 300px;\n        height: 3em;\n    }\n\n    .dragarea:hover {\n        cursor: pointer;\n        background-color: #caeeb9;\n    }\n\n    .preview {\n        white-space: pre-line;\n        text-align: left;\n        font-family: \"Courier New\";\n        font-size: 0.85em;\n        padding-top: 1em;\n        border: #ccc solid 1px;\n        background-color: #ededed;\n        width: 300px;\n        max-height: 450px;\n        overflow: scroll;\n    }\n</style>\n","import { noop, safe_not_equal, subscribe, run_all, is_function } from '../internal';\nexport { get_store_value as get } from '../internal';\n\nconst subscriber_queue = [];\n/**\n * Creates a `Readable` store that allows reading by subscription.\n * @param value initial value\n * @param {StartStopNotifier}start start and stop notifications for subscriptions\n */\nfunction readable(value, start) {\n    return {\n        subscribe: writable(value, start).subscribe,\n    };\n}\n/**\n * Create a `Writable` store that allows both updating and reading by subscription.\n * @param {*=}value initial value\n * @param {StartStopNotifier=}start start and stop notifications for subscriptions\n */\nfunction writable(value, start = noop) {\n    let stop;\n    const subscribers = [];\n    function set(new_value) {\n        if (safe_not_equal(value, new_value)) {\n            value = new_value;\n            if (stop) { // store is ready\n                const run_queue = !subscriber_queue.length;\n                for (let i = 0; i < subscribers.length; i += 1) {\n                    const s = subscribers[i];\n                    s[1]();\n                    subscriber_queue.push(s, value);\n                }\n                if (run_queue) {\n                    for (let i = 0; i < subscriber_queue.length; i += 2) {\n                        subscriber_queue[i][0](subscriber_queue[i + 1]);\n                    }\n                    subscriber_queue.length = 0;\n                }\n            }\n        }\n    }\n    function update(fn) {\n        set(fn(value));\n    }\n    function subscribe(run, invalidate = noop) {\n        const subscriber = [run, invalidate];\n        subscribers.push(subscriber);\n        if (subscribers.length === 1) {\n            stop = start(set) || noop;\n        }\n        run(value);\n        return () => {\n            const index = subscribers.indexOf(subscriber);\n            if (index !== -1) {\n                subscribers.splice(index, 1);\n            }\n            if (subscribers.length === 0) {\n                stop();\n                stop = null;\n            }\n        };\n    }\n    return { set, update, subscribe };\n}\nfunction derived(stores, fn, initial_value) {\n    const single = !Array.isArray(stores);\n    const stores_array = single\n        ? [stores]\n        : stores;\n    const auto = fn.length < 2;\n    return readable(initial_value, (set) => {\n        let inited = false;\n        const values = [];\n        let pending = 0;\n        let cleanup = noop;\n        const sync = () => {\n            if (pending) {\n                return;\n            }\n            cleanup();\n            const result = fn(single ? values[0] : values, set);\n            if (auto) {\n                set(result);\n            }\n            else {\n                cleanup = is_function(result) ? result : noop;\n            }\n        };\n        const unsubscribers = stores_array.map((store, i) => subscribe(store, (value) => {\n            values[i] = value;\n            pending &= ~(1 << i);\n            if (inited) {\n                sync();\n            }\n        }, () => {\n            pending |= (1 << i);\n        }));\n        inited = true;\n        sync();\n        return function stop() {\n            run_all(unsubscribers);\n            cleanup();\n        };\n    });\n}\n\nexport { derived, readable, writable };\n","<script>\n\timport Wifi from './Wifi.svelte';\n\timport HostIp from './HostIp.svelte';\n\timport Plotter from './Plotter.svelte';\n\timport Upload from './upload/Upload.svelte';\n\timport { writable } from \"svelte/store\";\n\tconst hostname = writable(localStorage.getItem(\"hostname\") || '');\n\n\texport let toggleSettings = false;\n\n\texport let hostip;\n\thostip = (hostname !== '') ? localStorage.getItem(\"hostname\") : hostip;\n\n\texport let file = \"\";\n\texport const wifi = {\n\t\tssid: \"ssid\",\n\t\tpassword: \"password\",\n\t}\n\texport const plotter = {\n\t\tzoomFactor: 0\n\t};\n\n\tfunction handleSetHostInput(e) {\n\t\thostip = e.detail.host;\n\t\tlocalStorage.setItem(\"hostname\", hostip);\n\t}\n\n\tfunction handleSetWifiInput(e) {\n\t\twifi.ssid = e.detail.ssid;\n\t\twifi.password = e.detail.password;\n\t}\n\n\tfunction handleSetPlotterInput(e) {\n\t\tplotter.zoomFactor = e.detail.zoomFactor;\n\t}\n\n\tfunction handleUploadInput(e) {\n\t\tfile = e.detail.file;\n\t}\n\n\tasync function setWifi() {\n\t\tconst options =  {\n\t\t\tmethod: \"POST\",\n\t\t\theaders: new Headers({\n\t\t\t\t'content-type': 'application/json',\n\t\t\t\t'Access-Control-Allow-Origin': '*'\n\t\t\t}),\n\t\t\tbody: JSON.stringify(wifi)\n\t\t}\n\t\tconst response = await fetch('http://' + hostip + '/wifi', options);\n\t\tconst string = await response.text();\n\t\tconst json = string === \"\" ? {} : JSON.parse(string);\n\t\treturn json;\n\t}\n\n\tfunction handleSetWifi(e) {\n\t\tsetWifi().then( (response) => {\n\t\t\talert(JSON.stringify(response));\n\t\t}).catch( (error) => {\n\t\t\talert(error.message);\n\t\t});\n\t}\n\n\tasync function setConfig() {\n\t\tconst options =  {\n\t\t\tmethod: \"POST\",\n\t\t\theaders: new Headers({\n\t\t\t\t'content-type': 'application/json',\n\t\t\t\t'Access-Control-Allow-Origin': '*'\n\t\t\t}),\n\t\t\tbody: JSON.stringify(plotter)\n\t\t}\n\t\tconst response = await fetch('http://' + hostip + '/config', options);\n\t\tconst string = await response.text();\n\t\tconst json = string === \"\" ? {} : JSON.parse(string);\n\t\treturn json;\n\t}\n\n\tfunction handleSetConfig(e) {\n\t\tsetConfig().then( (response) => {\n\t\t\talert(JSON.stringify(response));\n\t\t}).catch( (error) => {\n\t\t\talert(error.message);\n\t\t});\n\t}\n\n\tasync function getConfig() {\n\t\tconst options =  {\n\t\t\tmethod: \"GET\",\n\t\t\theaders: new Headers({\n\t\t\t\t'content-type': 'application/json',\n\t\t\t\t'Access-Control-Allow-Origin': '*'\n\t\t\t})\n\t\t}\n\t\tconst response = await fetch('http://' + hostip + '/config', options);\n\t\tconst string = await response.text();\n\t\tconst json = string === \"\" ? {} : JSON.parse(string);\n\t\treturn json;\n\t}\n\n\tfunction handleGetConfig(e) {\n\t\tgetConfig().then( (response) => {\n\t\t\talert(JSON.stringify(response));\n\t\t}).catch( (error) => {\n\t\t\talert(error.message);\n\t\t})\n\t}\n\n\tasync function getPlot() {\n\t\tconst options =  {\n\t\t\tmethod: \"GET\",\n\t\t\theaders: new Headers({\n\t\t\t\t'content-type': 'text/plain',\n\t\t\t\t'Access-Control-Allow-Origin': '*'\n\t\t\t})\n\t\t}\n\t\tconst response = await fetch('http://' + hostip + '/plot', options);\n\t\tconst string = await response.text();\n\t\treturn string;\n\t}\n\n\tfunction handleGetPlot(e) {\n\t\tgetPlot().then( (response) => {\n\t\t\talert(response);\n\t\t}).catch( (error) => {\n\t\t\talert(error.message);\n\t\t})\n\t}\n\n\tfunction handleToggleSettings(e) {\n\t\ttoggleSettings = !toggleSettings;\n\t}\n\n\tasync function upload() {\n\t\tlet data = new FormData();\n\t\tdata.append('/wall-plotter.data', file);\n\t\tconst options =  {\n\t\t\tmethod: \"POST\",\n\t\t\theaders: new Headers({\n\t\t\t\t'Access-Control-Allow-Origin': '*'\n\t\t\t}),\n\t\t\tbody: data\n\t\t}\n\t\tconst response = await fetch('http://' + hostip + '/plot', options);\n\t\tconst string = await response.text();\n\t\treturn string;\n\t}\n\n\tfunction handleUpload(e) {\n\t\tupload().then( (response) => {\n\t\t\talert(JSON.stringify(response));\n\t\t}).catch( (error) => {\n\t\t\talert(error.message);\n\t\t});\n\t}\n\n\tasync function plotterControl(command) {\n\t\tconst options =  {\n\t\t\tmethod: \"POST\",\n\t\t\theaders: new Headers({\n\t\t\t\t'Access-Control-Allow-Origin': '*'\n\t\t\t})\n\t\t}\n\t\tconst response = await fetch('http://' + hostip + '/' + command, options);\n\t\tconst string = await response.text();\n\t\treturn string;\n\t}\n\n\tfunction handlePlotterStart(e) {\n\t\tplotterControl(\"start\").then( (response) => {\n\t\t\talert(JSON.stringify(response));\n\t\t}).catch( (error) => {\n\t\t\talert(error.message);\n\t\t});\n\t}\n\n\n\tfunction handlePlotterStop(e) {\n\t\tplotterControl(\"stop\").then( (response) => {\n\t\t\talert(JSON.stringify(response));\n\t\t}).catch( (error) => {\n\t\t\talert(error.message);\n\t\t});\n\t}\n\n\tfunction readTextFile(file)\n\t{\n\t\tvar rawFile = new XMLHttpRequest();\n\t\trawFile.open(\"GET\", file, false);\n\t\trawFile.onreadystatechange = function ()\n\t\t{\n\t\t\tif(rawFile.readyState === 4)\n\t\t\t{\n\t\t\t\tif(rawFile.status === 200 || rawFile.status == 0)\n\t\t\t\t{\n\t\t\t\t\tvar allText = rawFile.responseText;\n\t\t\t\t\talert(allText);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\trawFile.send(null);\n\t}\n\n</script>\n\n<main>\n\t<h1>Plotter-UI</h1>\n\t<hr>\n\t<label class=\"clickable\" for=\"settings\" on:click={handleToggleSettings}>Settings:</label>\n\t<ul id=\"settings\" class=\"{toggleSettings ? 'unfolded' : 'folded'}\">\n\t\t<label class=\"clickable\" for=\"hostsettings\">Host:</label>\n\t\t<li id=\"hostsettings\">\n\t\t\t<HostIp  on:sethost={handleSetHostInput} hostip={hostip}></HostIp>\n\t\t</li>\n\t\t<hr>\n\t\t<label class=\"clickable\" for=\"wifisettings\">WiFi:</label>\n\t\t<li id=\"wifisettings\">\n\t\t\t<Wifi on:setwifi={handleSetWifiInput}></Wifi>\n\t\t\t<button class=\"btn btn-3 btn-sep icon-send\" on:click={handleSetWifi}>set Wifi</button>\n\t\t</li>\n\t\t<hr>\n\t\t<label class=\"clickable\" for=\"plottersettings\">Plotter:</label>\n\t\t<li id=\"plottersettings\">\n\t\t\t<Plotter on:setplotter={handleSetPlotterInput}></Plotter>\n\t\t\t<button class=\"btn btn-4 btn-sep icon-send\" on:click={handleSetConfig}>set Config</button>\n\t\t\t<button class=\"btn btn-1 btn-sep icon-info\" on:click={handleGetConfig}>get Config</button>\n\t\t</li>\n\t</ul>\n\t<hr>\n\t<label for=\"plottercontroll\">Plotter Control:</label>\n\t<ul id=\"plottercontroll\">\n\t\t<Upload on:setfilename={handleUploadInput}></Upload>\n\t\t<button class=\"btn btn-4 btn-sep icon-send\" on:click={handleUpload}>upload</button>\n\t</ul>\n\t<ul>\n\t\t<button class=\"btn btn-1 btn-sep icon-info\" on:click={handleGetPlot}>show Data</button>\n\t<ul>\n\t</ul>\n\t\t<button class=\"btn btn-2 btn-sep icon-send\" on:click={handlePlotterStart}>Start</button>\n\t\t<button class=\"btn btn-3 btn-sep icon-heart\" on:click={handlePlotterStop}>Stop</button>\n\t</ul>\n</main>\n\n<style>\n\tul {\n\t\tcolor: #5f5f5f;\n\t\tfont-size: 0.85em;\n\t\tfont-weight: 200;\n\t}\n\n\tmain {\n\t\toverflow: scroll;\n\t\ttext-align: left;\n\t\tpadding: 0.8em;\n\t\tmargin: 0 auto;\n\t\tfont-size: 1em;\n\t}\n\n\tlabel {\n\t\tcolor: #5f5f5f;\n\t\tfont-size: 0.85em;\n\t\tfont-weight: 200;\n\t}\n\n\t.clickable {\n\t\tcursor: pointer;\n\t}\n\n\th1 {\n\t\tcolor: #9e9e9e;\n\t\tfont-size: 2.2em;\n\t}\n\n\n\n\t.folded {\n\t\tdisplay: none;\n\t\ttransition: height 1s ease-out;\n\t}\n\t.unfolded {\n\t\theight: 100%;\n\t\tdisplay: block;\n\t\ttransition: height 1s ease-in;\n\t}\n\n\t/* General button style */\n\t.btn {\n\t\tborder: none;\n\t\tfont-family: 'Verdana';\n\t\tfont-size: 0.85em;\n\t\tcolor: inherit;\n\t\tbackground: none;\n\t\tcursor: pointer;\n\t\tdisplay: inline-block;\n\t\ttext-transform: uppercase;\n\t\tmargin: 0.5em;\n\t\tletter-spacing: 1px;\n\t\tfont-weight: 700;\n\t\toutline: none;\n\t\tposition: relative;\n\t\t-webkit-transition: all 0.3s;\n\t\t-moz-transition: all 0.3s;\n\t\ttransition: all 0.3s;\n\t}\n\n\t.btn:after {\n\t\tcontent: '';\n\t\tposition: absolute;\n\t\tz-index: -1;\n\t\t-webkit-transition: all 0.3s;\n\t\t-moz-transition: all 0.3s;\n\t\ttransition: all 0.3s;\n\t}\n\n\t/* Pseudo elements for icons */\n\t.btn:before {\n\t\tfont-family: 'Verdana';\n\t\tspeak: none;\n\t\tfont-style: normal;\n\t\tfont-weight: normal;\n\t\tfont-variant: normal;\n\t\ttext-transform: none;\n\t\tline-height: 1;\n\t\tposition: relative;\n\t\t-webkit-font-smoothing: antialiased;\n\t}\n\n\n\t/* Icon separator */\n\t.btn-sep {\n\t\tpadding: 12px 30px 12px 80px;\n\t}\n\n\t.btn-sep:before {\n\t\tbackground: rgba(0,0,0,0.15);\n\t}\n\n\t/* Button 1 */\n\t.btn-1 {\n\t\tbackground: #3498db;\n\t\tcolor: #fff;\n\t}\n\n\t.btn-1:hover {\n\t\tbackground: #2980b9;\n\t}\n\n\t.btn-1:active {\n\t\tbackground: #2980b9;\n\t\ttop: 2px;\n\t}\n\n\t.btn-1:before {\n\t\tposition: absolute;\n\t\theight: 100%;\n\t\tleft: 0;\n\t\ttop: 0;\n\t\tline-height: 2;\n\t\tfont-size: 1.5em;\n\t\twidth: 60px;\n\t}\n\n\t/* Button 2 */\n\t.btn-2 {\n\t\tbackground: #2ecc71;\n\t\tcolor: #fff;\n\t}\n\n\t.btn-2:hover {\n\t\tbackground: #27ae60;\n\t}\n\n\t.btn-2:active {\n\t\tbackground: #27ae60;\n\t\ttop: 2px;\n\t}\n\n\t.btn-2:before {\n\t\tposition: absolute;\n\t\theight: 100%;\n\t\tleft: 0;\n\t\ttop: 0;\n\t\tline-height: 2;\n\t\tfont-size: 1.5em;\n\t\twidth: 60px;\n\t}\n\n\t/* Button 3 */\n\t.btn-3 {\n\t\tbackground: #e74c3c;\n\t\tcolor: #fff;\n\t}\n\n\t.btn-3:hover {\n\t\tbackground: #c0392b;\n\t}\n\n\t.btn-3:active {\n\t\tbackground: #c0392b;\n\t\ttop: 2px;\n\t}\n\n\t.btn-3:before {\n\t\tposition: absolute;\n\t\theight: 100%;\n\t\tleft: 0;\n\t\ttop: 0;\n\t\tline-height: 2;\n\t\tfont-size: 1.5em;\n\t\twidth: 60px;\n\t}\n\n\t/* Button 3 */\n\t.btn-4 {\n\t\tbackground: #34495e;\n\t\tcolor: #fff;\n\t}\n\n\t.btn-4:hover {\n\t\tbackground: #2c3e50;\n\t}\n\n\t.btn-4:active {\n\t\tbackground: #2c3e50;\n\t\ttop: 2px;\n\t}\n\n\t.btn-4:before {\n\t\tposition: absolute;\n\t\theight: 100%;\n\t\tleft: 0;\n\t\ttop: 0;\n\t\tline-height: 2;\n\t\tfont-size: 1.5em;\n\t\twidth: 60px;\n\t}\n\n\t.icon-heart:before {\n\t\tcontent: \"\\f55a\";\n\t}\n\n\t.icon-info:before {\n\t\tcontent: \"\\f05a\";\n\t}\n\n\t.icon-send:before {\n\t\tcontent: \"\\f1d8\";\n\t}\n\n\n\t@media (min-width: 640px) {\n\t\tmain {\n\t\t\tmax-width: none;\n\t\t}\n\t}\n</style>\n","import App from './App.svelte';\n\nconst app = new App({\n\ttarget: document.body,\n\tprops: {\n\t\thostip: '192.168...'\n\t}\n});\n\nexport default app;\n"],"names":["noop","run","fn","blank_object","Object","create","run_all","fns","forEach","is_function","thing","safe_not_equal","a","b","get_slot_context","definition","ctx","$$scope","tar","src","k","assign","slice","null_to_empty","value","append","target","node","appendChild","insert","anchor","insertBefore","detach","parentNode","removeChild","element","name","document","createElement","text","data","createTextNode","space","listen","event","handler","options","addEventListener","removeEventListener","prevent_default","preventDefault","call","this","attr","attribute","removeAttribute","getAttribute","setAttribute","set_input_value","input","toggle_class","toggle","classList","current_component","set_current_component","component","createEventDispatcher","Error","get_current_component","type","detail","callbacks","$$","e","createEvent","initCustomEvent","custom_event","dirty_components","binding_callbacks","render_callbacks","flush_callbacks","resolved_promise","Promise","resolve","update_scheduled","add_render_callback","push","flushing","seen_callbacks","Set","flush","i","length","update","pop","callback","has","add","clear","fragment","before_update","dirty","p","after_update","outroing","transition_in","block","local","delete","transition_out","o","outros","c","d","create_component","mount_component","on_mount","on_destroy","m","new_on_destroy","map","filter","destroy_component","detaching","make_dirty","then","fill","init","instance","create_fragment","not_equal","props","parent_component","prop_values","bound","context","Map","ready","ret","rest","hydrate","nodes","Array","from","childNodes","children","l","intro","SvelteComponent","[object Object]","$destroy","index","indexOf","splice","ssid","password","dispatch","wifi","hostip","host","maxDigits","maxSteps","zoomFactor","plotter","zoomDigits","undefined","getFilesFromDropEvent","dataTransfer","files","items","kind","getAsFile","getFilesFromInputEvent","peg$SyntaxError","message","expected","found","location","captureStackTrace","child","parent","ctor","constructor","prototype","peg$subclass","buildMessage","DESCRIBE_EXPECTATION_FNS","literal","expectation","literalEscape","class","escapedParts","parts","classEscape","inverted","any","end","other","description","hex","ch","charCodeAt","toString","toUpperCase","s","replace","j","descriptions","sort","join","describeExpected","describeFound","parserFunction","peg$result","peg$FAILED","peg$startRuleFunctions","svg_path","peg$parsesvg_path","peg$startRuleFunction","peg$c1","first","more","merge","peg$c2","peg$c3","peg$classExpectation","peg$c5","peg$c6","peg$c8","peg$c9","peg$c10","args","commands","peg$c11","peg$c12","peg$c14","peg$c15","peg$c17","peg$c18","peg$c20","peg$c21","peg$c23","peg$c24","peg$c26","peg$c27","peg$c28","peg$c29","peg$c34","peg$c35","peg$c39","peg$literalExpectation","peg$c40","peg$c42","peg$c43","peg$c44","peg$c45","peg$c46","peg$c47","peg$c48","peg$c50","peg$c51","peg$currPos","peg$posDetailsCache","line","column","peg$maxFailPos","peg$maxFailExpected","startRule","ignoreCase","peg$computePosDetails","pos","details","peg$computeLocation","startPos","endPos","startPosDetails","endPosDetails","start","offset","peg$fail","s0","s1","s2","s3","s4","peg$parsewsp","s5","peg$parsemoveTo_drawTo_commandGroup","peg$parsemoveTo_drawTo_commandGroups","cmds","concat","apply","code","relative","peg$c0","s6","test","charAt","peg$parsecoordinate_pair","peg$parsecomma_wsp","peg$parselineto_argument_sequence","move","peg$parsemoveto","peg$parsedrawto_command","peg$parseclosepath","peg$parselineto","peg$parsecoordinate_sequence","x","peg$parsehorizontal_lineto","y","peg$parsevertical_lineto","peg$parsecurveto_argument","peg$parsecurveto_argument_sequence","peg$parsecurveto","peg$parsesmooth_curveto_argument","peg$parsesmooth_curveto_argument_sequence","peg$parsesmooth_curveto","peg$parsequadratic_bezier_curveto_argument","peg$parsequadratic_bezier_curveto_argument_sequence","peg$parsequadratic_bezier_curveto","peg$parsesmooth_quadratic_bezier_curveto_argument_sequence","peg$parsesmooth_quadratic_bezier_curveto","peg$parseelliptical_arc_argument","peg$parseelliptical_arc_argument_sequence","peg$parseelliptical_arc","peg$parsenumber","x1","y1","x2","y2","s7","s8","s9","s10","s11","xy","peg$parsenonnegative_number","peg$parseflag","rx","ry","xAxisRotation","largeArc","sweep","peg$parsefloating_point_constant","peg$parsedigit_sequence","peg$parsesign","peg$parsecomma","peg$parsefractional_constant","peg$parseexponent","h","v","q","t","z","cmd","command","toLowerCase","parseSVG","makeAbsolute","subpathStart","prevCmd","x0","y0","abs","Math","cos","sin","acos","atan2","sqrt","pow","crt","pi","PI","tau","quart","nMax","Number","MAX_SAFE_INTEGER","nMin","MIN_SAFE_INTEGER","ZERO","utils","Tvalues","Cvalues","arcfn","derivativeFn","compute","points","_3d","order","mt","mt2","t2","dCpts","JSON","parse","stringify","computeWithRatios","ratios","r","f1","f2","f3","f4","derive","dpoints","dpt","list","between","M","approximately","precision","sum","len","ds","de","ts","te","lerp","v1","v2","pointToString","pointsToString","copy","obj","angle","dx1","dy1","dx2","dy2","round","parseFloat","substring","dist","p1","p2","dx","dy","closest","LUT","point","mpos","mdist","idx","abcratio","n","bottom","projectionratio","top","lli8","x3","y3","x4","y4","lli4","p3","p4","lli","makeline","Bezier","require$$0","findbbox","sections","mx","my","MX","MY","bbox","min","max","mid","size","shapeintersections","bbox1","bbox2","curveIntersectionThreshold","bboxoverlap","intersections","a1","startcap","forward","back","endcap","a2","l1","virtual","l2","iss","intersects","c1","c2","makeshape","bpl","fpl","shape","self","getminmax","curve","get","align","tx","ty","roots","reduce","m1","m2","pa","pb","pc","u1","q2","discriminant","mp3","phi","t1","sd","droots","curvature","kOnly","num","dnm","adk","dk","d1","d2","dd","qdsum","pk","nk","inflections","v3","trm","sq","b1","b2","dim","dims","expandbox","_bbox","pairiteration","c1b","c2b","threshold","_t1","_t2","cc1","split","cc2","pairs","left","right","pair","results","getccenter","_","dx1p","dy1p","dx2p","dy2p","mx1","my1","mx2","my2","mx1n","my1n","mx2n","my2n","arc","numberSort","module","PolyBezier","curves","valueOf","addCurve","instruction","op","lop","alen","instructions","instructionLength","sx","sy","cx","cy","cx2","cy2","normalized","trim","makeBezier","term","values","cvalues","bind","last","segment","terms","normalise","matcher","RegExp","segments","ARGS","C","Q","L","require$$1","coords","arguments","coordlen","newargs","higher","step","dimlen","_linear","svgToBeziers","require$$2","getABC","S","B","E","u","um","A","SVGtoBeziers","quadraticFromPoints","abc","cubicFromPoints","selen","lx","ly","bx1","by1","bx2","by2","e1","e2","nc1","nc2","getUtils","toSVG","setRatios","_lut","verify","print","coordDigest","_print","newprint","computedirection","clockwise","derivative","getLUT","steps","on","error","lut","hits","project","ft","raise","pim","np","normal","__normal3","__normal2","r1","r2","q1","R","hull","pt","_p","result","span","extrema","mfn","overlaps","lbbox","tbbox","nv","scale","simple","n1","n2","pass1","pass2","distanceFn","ov","rc","outline","d3","d4","reduced","fcurves","bcurves","tlen","graduated","linearDistanceFunction","slen","reverse","fs","fe","bs","be","ls","le","outlineshapes","shapes","lineIntersects","curveintersects","selfintersects","arcs","errorThreshold","_iterate","_error","np1","ref","circles","safety","t_s","t_e","np2","np3","prev_arc","done","curr_good","prev_good","t_m","prev_e","interval","svgPathToPolygon","svgPathString","opts","tolerance","polys","tolerance2","prev","poly","closed","sampleCubicBézier","x01","y01","x12","y12","x23","y23","x012","y012","x123","y123","x0123","y0123","console","process","exit","decimals","toFixed","localName","attributes","convertSvgToPlotterformat","svgxml","path2polyPoints","pathDataToPolys","xml","DOMParser","parseFromString","getElementsByTagName","pathInfo","elem","path","getSvgPath","lines","lastPoint","newPath","slot_ctx","lets","merged","multiple","dragging","svgOriginal","plotterFormat","svgModified","rawdatafile","stopDragging","plotterformat","svg","createSvg","getFilesFunction","reader","FileReader","onload","onloadend","File","file","readAsText","subscriber_queue","hostname","stop","subscribers","set","new_value","run_queue","subscribe","invalidate","subscriber","writable","localStorage","getItem","toggleSettings","plotterControl","method","headers","Headers","Access-Control-Allow-Origin","response","fetch","setItem","content-type","body","string","setWifi","alert","catch","setConfig","getConfig","getPlot","FormData","upload"],"mappings":"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"}